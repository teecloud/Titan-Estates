{"ast":null,"code":"import { forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@ionic/angular\";\nfunction RatingInputComponent_ion_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 1);\n    i0.ɵɵlistener(\"click\", function RatingInputComponent_ion_button_0_Template_ion_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.rate(i_r2 + 1));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", ctx_r0.value === undefined ? \"star-outline\" : ctx_r0.value > i_r2 ? ctx_r0.value < i_r2 + 1 ? \"star-half\" : \"star\" : \"star-outline\");\n  }\n}\nexport class RatingInputComponent {\n  constructor() {\n    this.max = 5;\n    this.readOnly = false;\n    this.propagateChange = () => {};\n  }\n  ngOnInit() {\n    this.range = []; // the amout of stars\n    for (let i = 0; i < this.max; i++) {\n      this.range[i] = 1;\n    }\n  }\n  get value() {\n    return this.innerValue;\n  }\n  set value(val) {\n    if (val !== this.innerValue) {\n      this.innerValue = val;\n      this.propagateChange(val);\n    }\n  }\n  writeValue(value) {\n    if (value !== this.innerValue) {\n      this.innerValue = value;\n    }\n  }\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n  registerOnTouched() {}\n  rate(amount) {\n    if (!this.readOnly && amount >= 0 && amount <= this.range.length) {\n      this.value = amount;\n    }\n  }\n}\nRatingInputComponent.ɵfac = function RatingInputComponent_Factory(t) {\n  return new (t || RatingInputComponent)();\n};\nRatingInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RatingInputComponent,\n  selectors: [[\"app-rating-input\"]],\n  inputs: {\n    max: \"max\",\n    readOnly: \"readOnly\"\n  },\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => RatingInputComponent),\n    multi: true\n  }])],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"rating-icon\", \"fill\", \"clear\", \"shape\", \"round\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"fill\", \"clear\", \"shape\", \"round\", 1, \"rating-icon\", 3, \"click\"], [\"slot\", \"icon-only\", 3, \"name\"]],\n  template: function RatingInputComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RatingInputComponent_ion_button_0_Template, 2, 1, \"ion-button\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.range);\n    }\n  },\n  dependencies: [i1.NgForOf, i2.IonButton, i2.IonIcon],\n  styles: [\"app-rating-input {\\n  --rating-background: transparent;\\n  --rating-color: #000;\\n  --rating-size: 32px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n}\\napp-rating-input ion-button.rating-icon {\\n  --background: var(--rating-background);\\n  --color: var(--rating-color);\\n  --color-activated: var(--rating-color);\\n  --box-shadow: none;\\n  --padding-bottom: 0px;\\n  --padding-end: 4px;\\n  --padding-start: 4px;\\n  --padding-top: 0px;\\n  margin: 0px;\\n  flex: 1;\\n  width: var(--rating-size);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9yYXRpbmctaW5wdXQvcmF0aW5nLWlucHV0LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vVGl0YW4lMjBFc3RhdGVzL3NyYy9hcHAvY29tcG9uZW50cy9yYXRpbmctaW5wdXQvcmF0aW5nLWlucHV0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0NBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBRUEsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUNBRjtBREVDO0VBQ0csc0NBQUE7RUFDQSw0QkFBQTtFQUNBLHNDQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtFQUVBLFdBQUE7RUFDRixPQUFBO0VBQ0MseUJBQUE7QUNESCIsInNvdXJjZXNDb250ZW50IjpbImFwcC1yYXRpbmctaW5wdXQge1xuICAtLXJhdGluZy1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgLS1yYXRpbmctY29sb3I6ICMwMDA7XG4gIC0tcmF0aW5nLXNpemU6IDMycHg7XG5cbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcblxuXHRpb24tYnV0dG9uLnJhdGluZy1pY29uIHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLXJhdGluZy1iYWNrZ3JvdW5kKTtcbiAgICAtLWNvbG9yOiB2YXIoLS1yYXRpbmctY29sb3IpO1xuICAgIC0tY29sb3ItYWN0aXZhdGVkOiB2YXIoLS1yYXRpbmctY29sb3IpO1xuICAgIC0tYm94LXNoYWRvdzogbm9uZTtcbiAgICAtLXBhZGRpbmctYm90dG9tOiAwcHg7XG4gICAgLS1wYWRkaW5nLWVuZDogNHB4O1xuICAgIC0tcGFkZGluZy1zdGFydDogNHB4O1xuICAgIC0tcGFkZGluZy10b3A6IDBweDtcblxuICAgIG1hcmdpbjogMHB4O1xuXHRcdGZsZXg6IDE7XG5cdCAgd2lkdGg6IHZhcigtLXJhdGluZy1zaXplKTtcblx0fVxufVxuIiwiYXBwLXJhdGluZy1pbnB1dCB7XG4gIC0tcmF0aW5nLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAtLXJhdGluZy1jb2xvcjogIzAwMDtcbiAgLS1yYXRpbmctc2l6ZTogMzJweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn1cbmFwcC1yYXRpbmctaW5wdXQgaW9uLWJ1dHRvbi5yYXRpbmctaWNvbiB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0tcmF0aW5nLWJhY2tncm91bmQpO1xuICAtLWNvbG9yOiB2YXIoLS1yYXRpbmctY29sb3IpO1xuICAtLWNvbG9yLWFjdGl2YXRlZDogdmFyKC0tcmF0aW5nLWNvbG9yKTtcbiAgLS1ib3gtc2hhZG93OiBub25lO1xuICAtLXBhZGRpbmctYm90dG9tOiAwcHg7XG4gIC0tcGFkZGluZy1lbmQ6IDRweDtcbiAgLS1wYWRkaW5nLXN0YXJ0OiA0cHg7XG4gIC0tcGFkZGluZy10b3A6IDBweDtcbiAgbWFyZ2luOiAwcHg7XG4gIGZsZXg6IDE7XG4gIHdpZHRoOiB2YXIoLS1yYXRpbmctc2l6ZSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,UAAU,QAA0C,eAAe;AACvF,SAASC,iBAAiB,QAA8B,gBAAgB;;;;;;;ICDxEC,qCAAwH;IAAtBA;MAAA;MAAA;MAAA;MAAA,OAASA,kCAAS,CAAC,CAAC;IAAA,EAAC;IACtHA,8BAIW;IACZA,iBAAa;;;;;IAJXA,eAEoE;IAFpEA,0JAEoE;;;ADQtE,OAAM,MAAOC,oBAAoB;EATjCC;IAUW,QAAG,GAAG,CAAC;IACP,aAAQ,GAAG,KAAK;IAIzB,oBAAe,GAAQ,MAAK,CAAE,CAAC;;EAE/BC,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,EAAE,CAAC,CAAC;IAEjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,GAAG,EAAED,CAAC,EAAE,EAAE;MACjC,IAAI,CAACD,KAAK,CAACC,CAAC,CAAC,GAAG,CAAC;;EAErB;EAEA,IAAIE,KAAK;IACP,OAAO,IAAI,CAACC,UAAU;EACxB;EAEA,IAAID,KAAK,CAACE,GAAQ;IAChB,IAAIA,GAAG,KAAK,IAAI,CAACD,UAAU,EAAE;MAC3B,IAAI,CAACA,UAAU,GAAGC,GAAG;MACrB,IAAI,CAACC,eAAe,CAACD,GAAG,CAAC;;EAE7B;EAEAE,UAAU,CAACJ,KAAU;IACnB,IAAIA,KAAK,KAAK,IAAI,CAACC,UAAU,EAAE;MAC7B,IAAI,CAACA,UAAU,GAAGD,KAAK;;EAE3B;EAEAK,gBAAgB,CAACC,EAAE;IACjB,IAAI,CAACH,eAAe,GAAGG,EAAE;EAC3B;EAEAC,iBAAiB,IAAI;EAErBC,IAAI,CAACC,MAAc;IACjB,IAAI,CAAC,IAAI,CAACC,QAAQ,IAAID,MAAM,IAAI,CAAC,IAAIA,MAAM,IAAI,IAAI,CAACZ,KAAK,CAACc,MAAM,EAAE;MAChE,IAAI,CAACX,KAAK,GAAGS,MAAM;;EAEvB;;AA3CWf,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAkB;EAAAC;IAAAd;IAAAW;EAAA;EAAAI,iCALpB,CACT;IAAEC,OAAO,EAAEvB,iBAAiB;IAAEwB,WAAW,EAAEzB,UAAU,CAAC,MAAMG,oBAAoB,CAAC;IAAEuB,KAAK,EAAE;EAAI,CAAE,CACjG;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCTH5B,mFAMa;;;MAN4DA,mCAAU","names":["forwardRef","NG_VALUE_ACCESSOR","i0","RatingInputComponent","constructor","ngOnInit","range","i","max","value","innerValue","val","propagateChange","writeValue","registerOnChange","fn","registerOnTouched","rate","amount","readOnly","length","selectors","inputs","features","provide","useExisting","multi","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/teeicloud/TitanEstates/Titan Estates/src/app/components/rating-input/rating-input.component.ts","/Users/teeicloud/TitanEstates/Titan Estates/src/app/components/rating-input/rating-input.component.html"],"sourcesContent":["import { Component, forwardRef, Input, ViewEncapsulation, OnInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\n@Component({\n  selector: 'app-rating-input',\n  templateUrl: './rating-input.component.html',\n  styleUrls: ['./rating-input.component.scss'],\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => RatingInputComponent), multi: true }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RatingInputComponent implements ControlValueAccessor, OnInit {\n  @Input() max = 5;\n  @Input() readOnly = false;\n\n  range: Array<number>;\n  innerValue: any; // the value of the control\n  propagateChange: any = () => {};\n\n  ngOnInit() {\n    this.range = []; // the amout of stars\n\n    for (let i = 0; i < this.max; i++) {\n      this.range[i] = 1;\n    }\n  }\n\n  get value(): any {\n    return this.innerValue;\n  }\n\n  set value(val: any) {\n    if (val !== this.innerValue) {\n      this.innerValue = val;\n      this.propagateChange(val);\n    }\n  }\n\n  writeValue(value: any) {\n    if (value !== this.innerValue) {\n      this.innerValue = value;\n    }\n  }\n\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched() {}\n\n  rate(amount: number) {\n    if (!this.readOnly && amount >= 0 && amount <= this.range.length) {\n      this.value = amount;\n    }\n  }\n}\n","<ion-button class=\"rating-icon\" fill=\"clear\" shape=\"round\" *ngFor=\"let r of range; let i = index\" (click)=\"rate(i + 1)\">\n\t<ion-icon slot=\"icon-only\"\n\t\t[name]=\"value === undefined ?\n\t\t'star-outline' :\n\t\t(value > i ? (value < i+1 ? 'star-half' : 'star') : 'star-outline')\">\n\t</ion-icon>\n</ion-button>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}