{"ast":null,"code":"import _asyncToGenerator from \"/Users/teeicloud/TitanEstates/Titan Estates/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NgZone } from '@angular/core';\nimport { Validators, UntypedFormGroup, UntypedFormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { HistoryHelperService } from '../../../utils/history-helper.service';\nimport { FirebaseAuthService } from '../firebase-auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../firebase-auth.service\";\nimport * as i3 from \"../../../utils/history-helper.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"../../../components/show-hide-password/show-hide-password.component\";\nfunction FirebaseSignInPage_ng_container_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const validation_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(validation_r3.message);\n  }\n}\nfunction FirebaseSignInPage_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FirebaseSignInPage_ng_container_13_div_1_Template, 4, 1, \"div\", 22);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validation_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loginForm.get(\"email\").hasError(validation_r3.type) && (ctx_r0.loginForm.get(\"email\").dirty || ctx_r0.loginForm.get(\"email\").touched));\n  }\n}\nfunction FirebaseSignInPage_ng_container_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"ion-icon\", 24);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const validation_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(validation_r6.message);\n  }\n}\nfunction FirebaseSignInPage_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FirebaseSignInPage_ng_container_18_div_1_Template, 4, 1, \"div\", 22);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validation_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loginForm.get(\"password\").hasError(validation_r6.type) && (ctx_r1.loginForm.get(\"password\").dirty || ctx_r1.loginForm.get(\"password\").touched));\n  }\n}\nfunction FirebaseSignInPage_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 23);\n    i0.ɵɵelement(2, \"ion-icon\", 24);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.submitError);\n  }\n}\nconst _c0 = function () {\n  return [\"/firebase/auth/sign-up\"];\n};\nexport class FirebaseSignInPage {\n  constructor(router, firebaseAuthService, ngZone, historyHelper) {\n    this.router = router;\n    this.firebaseAuthService = firebaseAuthService;\n    this.ngZone = ngZone;\n    this.historyHelper = historyHelper;\n    this.validation_messages = {\n      'email': [{\n        type: 'required',\n        message: 'Email is required.'\n      }, {\n        type: 'pattern',\n        message: 'Enter a valid email.'\n      }],\n      'password': [{\n        type: 'required',\n        message: 'Password is required.'\n      }, {\n        type: 'minlength',\n        message: 'Password must be at least 6 characters long.'\n      }]\n    };\n    this.loginForm = new UntypedFormGroup({\n      'email': new UntypedFormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')])),\n      'password': new UntypedFormControl('', Validators.compose([Validators.minLength(6), Validators.required]))\n    });\n    // ? Get firebase authentication redirect result invoked when using signInWithRedirect()\n    // ? signInWithRedirect() is only used when client is in web but not desktop. For example a PWA\n    this.authRedirectResult = this.firebaseAuthService.redirectResult$.subscribe(result => {\n      if (result.error) {\n        this.manageAuthWithProvidersErrors(result.error);\n      } else {\n        this.redirectLoggedUserToProfilePage();\n      }\n    });\n    this.firebaseAuthService.authState$.subscribe(stateChange => {\n      if (!stateChange.user) {\n        this.manageAuthWithProvidersErrors('No user logged in');\n      } else {\n        this.redirectLoggedUserToProfilePage();\n      }\n    });\n  }\n  doFacebookLogin() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.resetSubmitError();\n      try {\n        yield _this.firebaseAuthService.signInWithFacebook().then(result => {\n          // ? This gives you a Facebook Access Token. You can use it to access the Facebook API.\n          // const token = result.credential.accessToken;\n          _this.redirectLoggedUserToProfilePage();\n        }).catch(error => {\n          _this.manageAuthWithProvidersErrors(error.message);\n        });\n      } finally {\n        // ? Termination code goes here\n      }\n    })();\n  }\n  doGoogleLogin() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.resetSubmitError();\n      try {\n        yield _this2.firebaseAuthService.signInWithGoogle().then(result => {\n          // ? This gives you a Google Access Token. You can use it to access the Google API.\n          // const token = result.credential.accessToken;\n          _this2.redirectLoggedUserToProfilePage();\n        }).catch(error => {\n          _this2.manageAuthWithProvidersErrors(error.message);\n        });\n      } finally {\n        // ? Termination code goes here\n      }\n    })();\n  }\n  doTwitterLogin() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.resetSubmitError();\n      try {\n        yield _this3.firebaseAuthService.signInWithTwitter().then(result => {\n          // ? This gives you a Twitter Access Token. You can use it to access the Twitter API.\n          // const token = result.credential.accessToken;\n          _this3.redirectLoggedUserToProfilePage();\n        }).catch(error => {\n          _this3.manageAuthWithProvidersErrors(error.message);\n        });\n      } finally {\n        // ? Termination code goes here\n      }\n    })();\n  }\n  doAppleLogin() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.resetSubmitError();\n      try {\n        yield _this4.firebaseAuthService.signInWithApple().then(result => {\n          _this4.redirectLoggedUserToProfilePage();\n        }).catch(error => {\n          _this4.manageAuthWithProvidersErrors(error.message);\n        });\n      } finally {\n        // ? Termination code goes here\n      }\n    })();\n  }\n  signInWithEmail() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.resetSubmitError();\n      try {\n        yield _this5.firebaseAuthService.signInWithEmail(_this5.loginForm.value['email'], _this5.loginForm.value['password']).then(result => {\n          _this5.redirectLoggedUserToProfilePage();\n        }).catch(error => {\n          _this5.submitError = error.message;\n        });\n      } finally {\n        // ? Termination code goes here\n      }\n    })();\n  }\n  // ? Once the auth provider finished the authentication flow, and the auth redirect completes, hide the loader and redirect the user to the profile page\n  redirectLoggedUserToProfilePage() {\n    // As we are calling the Angular router navigation inside a subscribe method, the navigation will be triggered outside Angular zone.\n    // That's why we need to wrap the router navigation call inside an ngZone wrapper\n    this.ngZone.run(() => {\n      // Get previous URL from our custom History Helper\n      // If there's no previous page, then redirect to profile\n      // const previousUrl = this.historyHelper.previousUrl || 'firebase/auth/profile';\n      const previousUrl = 'firebase/auth/profile';\n      // No need to store in the navigation history the sign-in page with redirect params (it's just a a mandatory mid-step)\n      // Navigate to profile and replace current url with profile\n      this.router.navigate([previousUrl], {\n        replaceUrl: true\n      });\n    });\n  }\n  manageAuthWithProvidersErrors(errorMessage) {\n    this.submitError = errorMessage;\n  }\n  resetSubmitError() {\n    this.submitError = null;\n  }\n}\nFirebaseSignInPage.ɵfac = function FirebaseSignInPage_Factory(t) {\n  return new (t || FirebaseSignInPage)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FirebaseAuthService), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i3.HistoryHelperService));\n};\nFirebaseSignInPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FirebaseSignInPage,\n  selectors: [[\"app-firebase-sign-in\"]],\n  decls: 36,\n  vars: 7,\n  consts: [[1, \"ion-no-border\"], [\"slot\", \"start\"], [\"defaultHref\", \"app/categories\"], [1, \"login-content\"], [1, \"auth-title\"], [3, \"formGroup\", \"ngSubmit\"], [\"lines\", \"full\", 1, \"inputs-list\"], [1, \"input-item\"], [\"type\", \"email\", \"placeholder\", \"Email\", \"formControlName\", \"email\", \"clearInput\", \"\", \"autocapitalize\", \"off\", \"inputmode\", \"email\"], [1, \"error-container\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"password\", \"placeholder\", \"Password\", \"formControlName\", \"password\"], [\"type\", \"submit\", \"expand\", \"block\", 1, \"login-btn\", 3, \"disabled\"], [\"class\", \"error-container\", 4, \"ngIf\"], [1, \"other-auth-options-row\"], [\"fill\", \"clear\", 1, \"signup-btn\", 3, \"routerLink\"], [1, \"social-auth-options\"], [1, \"options-divider\"], [\"expand\", \"block\", \"color\", \"facebook\", 1, \"social-auth-btn\", \"facebook-auth-btn\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"google\", 1, \"social-auth-btn\", \"google-auth-btn\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"twitter\", 1, \"social-auth-btn\", \"twitter-auth-btn\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"dark\", 1, \"social-auth-btn\", \"apple-auth-btn\", 3, \"click\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"error-message\"], [\"name\", \"information-circle-outline\"]],\n  template: function FirebaseSignInPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n      i0.ɵɵelement(3, \"ion-back-button\", 2);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"ion-content\", 3)(5, \"h2\", 4);\n      i0.ɵɵtext(6, \" Sign In with Firebase \");\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function FirebaseSignInPage_Template_form_ngSubmit_8_listener() {\n        return ctx.signInWithEmail();\n      });\n      i0.ɵɵelementStart(9, \"ion-list\", 6)(10, \"ion-item\", 7);\n      i0.ɵɵelement(11, \"ion-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 9);\n      i0.ɵɵtemplate(13, FirebaseSignInPage_ng_container_13_Template, 2, 1, \"ng-container\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ion-item\", 7)(15, \"app-show-hide-password\");\n      i0.ɵɵelement(16, \"ion-input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 9);\n      i0.ɵɵtemplate(18, FirebaseSignInPage_ng_container_18_Template, 2, 1, \"ng-container\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"ion-button\", 12);\n      i0.ɵɵtext(20, \"Log In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, FirebaseSignInPage_div_21_Template, 5, 1, \"div\", 13);\n      i0.ɵɵelementStart(22, \"ion-row\", 14)(23, \"ion-button\", 15);\n      i0.ɵɵtext(24, \" Sign Up! \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 16)(26, \"p\", 17);\n      i0.ɵɵtext(27, \"Or\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"ion-button\", 18);\n      i0.ɵɵlistener(\"click\", function FirebaseSignInPage_Template_ion_button_click_28_listener() {\n        return ctx.doFacebookLogin();\n      });\n      i0.ɵɵtext(29, \"Log In with Facebook\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"ion-button\", 19);\n      i0.ɵɵlistener(\"click\", function FirebaseSignInPage_Template_ion_button_click_30_listener() {\n        return ctx.doGoogleLogin();\n      });\n      i0.ɵɵtext(31, \"Log In with Google\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"ion-button\", 20);\n      i0.ɵɵlistener(\"click\", function FirebaseSignInPage_Template_ion_button_click_32_listener() {\n        return ctx.doTwitterLogin();\n      });\n      i0.ɵɵtext(33, \"Log In with Twitter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"ion-button\", 21);\n      i0.ɵɵlistener(\"click\", function FirebaseSignInPage_Template_ion_button_click_34_listener() {\n        return ctx.doAppleLogin();\n      });\n      i0.ɵɵtext(35, \"Log In with Apple\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.validation_messages.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.validation_messages.password);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.submitError);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.IonBackButton, i6.IonButton, i6.IonButtons, i6.IonContent, i6.IonHeader, i6.IonIcon, i6.IonInput, i6.IonItem, i6.IonList, i6.IonRow, i6.IonToolbar, i6.TextValueAccessor, i6.IonBackButtonDelegate, i6.RouterLinkDelegate, i1.RouterLink, i7.ShowHidePasswordComponent],\n  styles: [\"[_nghost-%COMP%] {\\n  --page-margin: var(--app-broad-margin);\\n  --page-background: var(--app-background-shade);\\n}\\n\\nion-toolbar[_ngcontent-%COMP%] {\\n  --background: var(--page-background);\\n}\\n\\n.login-content[_ngcontent-%COMP%] {\\n  --background: var(--page-background);\\n  --padding-start: var(--page-margin);\\n  --padding-end: var(--page-margin);\\n  --padding-top: var(--page-margin);\\n  --padding-bottom: var(--page-margin);\\n}\\n.login-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%] {\\n  color: var(--ion-color-dark);\\n  font-weight: bold;\\n  margin-top: calc(var(--page-margin) / 2);\\n  margin-bottom: calc(var(--page-margin) * 1.5);\\n  letter-spacing: 0.6px;\\n}\\n.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%] {\\n  --ion-item-background: var(--page-background);\\n}\\n.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%] {\\n  --padding-start: 0px;\\n  --padding-end: 0px;\\n  --inner-padding-end: 0px;\\n}\\n.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n  display: flex;\\n  align-items: center;\\n  color: var(--ion-color-danger);\\n  font-size: 14px;\\n}\\n.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  -webkit-padding-end: calc(var(--page-margin) / 2);\\n          padding-inline-end: calc(var(--page-margin) / 2);\\n}\\n.login-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%] {\\n  margin: calc(var(--page-margin) / 2) 0px;\\n}\\n.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%] {\\n  justify-content: flex-end;\\n  align-items: center;\\n}\\n.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%] {\\n  --color: var(--ion-color-secondary);\\n  margin: 0px;\\n}\\n.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n}\\n.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%] {\\n  color: var(--ion-color-medium);\\n  margin: var(--page-margin) 0px;\\n  text-align: center;\\n}\\n.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%] {\\n  margin: 0px;\\n}\\n.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child) {\\n  margin-top: var(--page-margin);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlyZWJhc2UvYXV0aC9zaWduLWluL3N0eWxlcy9maXJlYmFzZS1zaWduLWluLnBhZ2Uuc2NzcyIsIndlYnBhY2s6Ly8uLy4uL1RpdGFuJTIwRXN0YXRlcy9zcmMvYXBwL2ZpcmViYXNlL2F1dGgvc2lnbi1pbi9zdHlsZXMvZmlyZWJhc2Utc2lnbi1pbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxzQ0FBQTtFQUNBLDhDQUFBO0FDREY7O0FESUE7RUFDRSxvQ0FBQTtBQ0RGOztBREtBO0VBQ0Usb0NBQUE7RUFDQSxtQ0FBQTtFQUNBLGlDQUFBO0VBQ0EsaUNBQUE7RUFDQSxvQ0FBQTtBQ0ZGO0FESUU7RUFDRSw0QkFBQTtFQUNBLGlCQUFBO0VBQ0Esd0NBQUE7RUFDQSw2Q0FBQTtFQUNBLHFCQUFBO0FDRko7QURLRTtFQUNFLDZDQUFBO0FDSEo7QURLSTtFQUNFLG9CQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtBQ0hOO0FEUUk7RUFDRSx3Q0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtBQ05OO0FEUU07RUFDRSxpREFBQTtVQUFBLGdEQUFBO0FDTlI7QURXRTtFQUNFLHdDQUFBO0FDVEo7QURZRTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7QUNWSjtBRFlJO0VBQ0UsbUNBQUE7RUFDQSxXQUFBO0FDVk47QURZTTtFQUNFLGFBQUE7QUNWUjtBRGdCSTtFQUNFLDhCQUFBO0VBQ0YsOEJBQUE7RUFDQSxrQkFBQTtBQ2RKO0FEaUJJO0VBQ0UsV0FBQTtBQ2ZOO0FEaUJNO0VBQ0UsOEJBQUE7QUNmUiIsInNvdXJjZXNDb250ZW50IjpbIi8vIEN1c3RvbSB2YXJpYWJsZXNcbi8vIE5vdGU6ICBUaGVzZSBvbmVzIHdlcmUgYWRkZWQgYnkgdXMgYW5kIGhhdmUgbm90aGluZyB0byBkbyB3aXRoIElvbmljIENTUyBDdXN0b20gUHJvcGVydGllc1xuOmhvc3Qge1xuICAtLXBhZ2UtbWFyZ2luOiB2YXIoLS1hcHAtYnJvYWQtbWFyZ2luKTtcbiAgLS1wYWdlLWJhY2tncm91bmQ6IHZhcigtLWFwcC1iYWNrZ3JvdW5kLXNoYWRlKTtcbn1cblxuaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG59XG5cbi8vIE5vdGU6ICBBbGwgdGhlIENTUyB2YXJpYWJsZXMgZGVmaW5lZCBiZWxvdyBhcmUgb3ZlcnJpZGVzIG9mIElvbmljIGVsZW1lbnRzIENTUyBDdXN0b20gUHJvcGVydGllc1xuLmxvZ2luLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG4gIC0tcGFkZGluZy1zdGFydDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAtLXBhZGRpbmctZW5kOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIC0tcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgLS1wYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xuXG4gIC5hdXRoLXRpdGxlIHtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbi10b3A6IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMik7XG4gICAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAoMy8yKSk7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNnB4O1xuICB9XG5cbiAgLmlucHV0cy1saXN0IHtcbiAgICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG5cbiAgICAuaW5wdXQtaXRlbSB7XG4gICAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgICAgIC0tcGFkZGluZy1lbmQ6IDBweDtcbiAgICAgIC0taW5uZXItcGFkZGluZy1lbmQ6IDBweDtcbiAgICB9XG4gIH1cblxuICAuZXJyb3ItY29udGFpbmVyIHtcbiAgICAuZXJyb3ItbWVzc2FnZSB7XG4gICAgICBtYXJnaW46IGNhbGModmFyKC0tcGFnZS1tYXJnaW4pIC8gMikgMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG5cbiAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgcGFkZGluZy1pbmxpbmUtZW5kOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5sb2dpbi1idG4ge1xuICAgIG1hcmdpbjogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSAwcHg7XG4gIH1cblxuICAub3RoZXItYXV0aC1vcHRpb25zLXJvdyB7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgLnNpZ251cC1idG4ge1xuICAgICAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgICBtYXJnaW46IDBweDtcblxuICAgICAgJjpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLnNvY2lhbC1hdXRoLW9wdGlvbnMge1xuICAgIC5vcHRpb25zLWRpdmlkZXIge1xuICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBcdFx0bWFyZ2luOiB2YXIoLS1wYWdlLW1hcmdpbikgMHB4O1xuICBcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIC5zb2NpYWwtYXV0aC1idG4ge1xuICAgICAgbWFyZ2luOiAwcHg7XG5cbiAgICAgICY6bm90KDpmaXJzdC1jaGlsZCkge1xuICAgICAgICBtYXJnaW4tdG9wOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCI6aG9zdCB7XG4gIC0tcGFnZS1tYXJnaW46IHZhcigtLWFwcC1icm9hZC1tYXJnaW4pO1xuICAtLXBhZ2UtYmFja2dyb3VuZDogdmFyKC0tYXBwLWJhY2tncm91bmQtc2hhZGUpO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0tcGFnZS1iYWNrZ3JvdW5kKTtcbn1cblxuLmxvZ2luLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG4gIC0tcGFkZGluZy1zdGFydDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICAtLXBhZGRpbmctZW5kOiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gIC0tcGFkZGluZy10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgLS1wYWRkaW5nLWJvdHRvbTogdmFyKC0tcGFnZS1tYXJnaW4pO1xufVxuLmxvZ2luLWNvbnRlbnQgLmF1dGgtdGl0bGUge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLXRvcDogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKTtcbiAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgKiAxLjUpO1xuICBsZXR0ZXItc3BhY2luZzogMC42cHg7XG59XG4ubG9naW4tY29udGVudCAuaW5wdXRzLWxpc3Qge1xuICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6IHZhcigtLXBhZ2UtYmFja2dyb3VuZCk7XG59XG4ubG9naW4tY29udGVudCAuaW5wdXRzLWxpc3QgLmlucHV0LWl0ZW0ge1xuICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcbiAgLS1wYWRkaW5nLWVuZDogMHB4O1xuICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XG59XG4ubG9naW4tY29udGVudCAuZXJyb3ItY29udGFpbmVyIC5lcnJvci1tZXNzYWdlIHtcbiAgbWFyZ2luOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpIDBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xuICBmb250LXNpemU6IDE0cHg7XG59XG4ubG9naW4tY29udGVudCAuZXJyb3ItY29udGFpbmVyIC5lcnJvci1tZXNzYWdlIGlvbi1pY29uIHtcbiAgcGFkZGluZy1pbmxpbmUtZW5kOiBjYWxjKHZhcigtLXBhZ2UtbWFyZ2luKSAvIDIpO1xufVxuLmxvZ2luLWNvbnRlbnQgLmxvZ2luLWJ0biB7XG4gIG1hcmdpbjogY2FsYyh2YXIoLS1wYWdlLW1hcmdpbikgLyAyKSAwcHg7XG59XG4ubG9naW4tY29udGVudCAub3RoZXItYXV0aC1vcHRpb25zLXJvdyB7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ubG9naW4tY29udGVudCAub3RoZXItYXV0aC1vcHRpb25zLXJvdyAuc2lnbnVwLWJ0biB7XG4gIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICBtYXJnaW46IDBweDtcbn1cbi5sb2dpbi1jb250ZW50IC5vdGhlci1hdXRoLW9wdGlvbnMtcm93IC5zaWdudXAtYnRuOmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cbi5sb2dpbi1jb250ZW50IC5zb2NpYWwtYXV0aC1vcHRpb25zIC5vcHRpb25zLWRpdmlkZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gIG1hcmdpbjogdmFyKC0tcGFnZS1tYXJnaW4pIDBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmxvZ2luLWNvbnRlbnQgLnNvY2lhbC1hdXRoLW9wdGlvbnMgLnNvY2lhbC1hdXRoLWJ0biB7XG4gIG1hcmdpbjogMHB4O1xufVxuLmxvZ2luLWNvbnRlbnQgLnNvY2lhbC1hdXRoLW9wdGlvbnMgLnNvY2lhbC1hdXRoLWJ0bjpub3QoOmZpcnN0LWNoaWxkKSB7XG4gIG1hcmdpbi10b3A6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["NgZone","Validators","UntypedFormGroup","UntypedFormControl","Router","HistoryHelperService","FirebaseAuthService","i0","FirebaseSignInPage","constructor","router","firebaseAuthService","ngZone","historyHelper","type","message","loginForm","compose","required","pattern","minLength","authRedirectResult","redirectResult$","subscribe","result","error","manageAuthWithProvidersErrors","redirectLoggedUserToProfilePage","authState$","stateChange","user","doFacebookLogin","resetSubmitError","signInWithFacebook","then","catch","doGoogleLogin","signInWithGoogle","doTwitterLogin","signInWithTwitter","doAppleLogin","signInWithApple","signInWithEmail","value","submitError","run","previousUrl","navigate","replaceUrl","errorMessage","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/teeicloud/TitanEstates/Titan Estates/src/app/firebase/auth/sign-in/firebase-sign-in.page.ts","/Users/teeicloud/TitanEstates/Titan Estates/src/app/firebase/auth/sign-in/firebase-sign-in.page.html"],"sourcesContent":["import { Component, NgZone } from '@angular/core';\nimport { Validators, UntypedFormGroup, UntypedFormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthStateChange, SignInResult } from '@capacitor-firebase/authentication';\n\nimport { Subscription } from 'rxjs';\n\nimport { HistoryHelperService } from '../../../utils/history-helper.service';\nimport { FirebaseAuthService } from '../firebase-auth.service';\n\n@Component({\n  selector: 'app-firebase-sign-in',\n  templateUrl: './firebase-sign-in.page.html',\n  styleUrls: [\n    './styles/firebase-sign-in.page.scss'\n  ]\n})\nexport class FirebaseSignInPage {\n  loginForm: UntypedFormGroup;\n  submitError: string;\n  authRedirectResult: Subscription;\n\n  validation_messages = {\n    'email': [\n      { type: 'required', message: 'Email is required.' },\n      { type: 'pattern', message: 'Enter a valid email.' }\n    ],\n    'password': [\n      { type: 'required', message: 'Password is required.' },\n      { type: 'minlength', message: 'Password must be at least 6 characters long.' }\n    ]\n  };\n\n  constructor(\n    public router: Router,\n    public firebaseAuthService: FirebaseAuthService,\n    private ngZone: NgZone,\n    public historyHelper: HistoryHelperService\n  ) {\n    this.loginForm = new UntypedFormGroup({\n      'email': new UntypedFormControl('', Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      'password': new UntypedFormControl('', Validators.compose([\n        Validators.minLength(6),\n        Validators.required\n      ]))\n    });\n\n    // ? Get firebase authentication redirect result invoked when using signInWithRedirect()\n    // ? signInWithRedirect() is only used when client is in web but not desktop. For example a PWA\n    this.authRedirectResult = this.firebaseAuthService.redirectResult$\n    .subscribe(result => {\n      if (result.error) {\n        this.manageAuthWithProvidersErrors(result.error);\n      } else {\n        this.redirectLoggedUserToProfilePage();\n      }\n    });\n\n    this.firebaseAuthService.authState$\n    .subscribe((stateChange: AuthStateChange) => {\n      if (!stateChange.user) {\n        this.manageAuthWithProvidersErrors('No user logged in');\n      } else {\n        this.redirectLoggedUserToProfilePage();\n      }\n    });\n  }\n\n  public async doFacebookLogin(): Promise<void> {\n    this.resetSubmitError();\n\n    try {\n      await this.firebaseAuthService.signInWithFacebook()\n      .then((result: SignInResult) => {\n        // ? This gives you a Facebook Access Token. You can use it to access the Facebook API.\n        // const token = result.credential.accessToken;\n        this.redirectLoggedUserToProfilePage();\n      })\n      .catch((error) => {\n        this.manageAuthWithProvidersErrors(error.message);\n      });\n    } finally {\n      // ? Termination code goes here\n    }\n  }\n\n  public async doGoogleLogin(): Promise<void> {\n    this.resetSubmitError();\n\n    try {\n      await this.firebaseAuthService.signInWithGoogle()\n      .then((result) => {\n        // ? This gives you a Google Access Token. You can use it to access the Google API.\n        // const token = result.credential.accessToken;\n        this.redirectLoggedUserToProfilePage();\n      })\n      .catch((error) => {\n        this.manageAuthWithProvidersErrors(error.message);\n      });\n    } finally {\n      // ? Termination code goes here\n    }\n  }\n\n  public async doTwitterLogin(): Promise<void> {\n    this.resetSubmitError();\n\n    try {\n      await this.firebaseAuthService.signInWithTwitter()\n      .then((result) => {\n        // ? This gives you a Twitter Access Token. You can use it to access the Twitter API.\n        // const token = result.credential.accessToken;\n        this.redirectLoggedUserToProfilePage();\n      })\n      .catch((error) => {\n        this.manageAuthWithProvidersErrors(error.message);\n      });\n    } finally {\n      // ? Termination code goes here\n    }\n  }\n\n  public async doAppleLogin(): Promise<void> {\n    this.resetSubmitError();\n\n    try {\n      await this.firebaseAuthService.signInWithApple()\n      .then((result) => {\n        this.redirectLoggedUserToProfilePage();\n      })\n      .catch((error) => {\n        this.manageAuthWithProvidersErrors(error.message);\n      });\n    } finally {\n      // ? Termination code goes here\n    }\n  }\n\n  public async signInWithEmail(): Promise<void> {\n    this.resetSubmitError();\n\n    try {\n      await this.firebaseAuthService.signInWithEmail(this.loginForm.value['email'], this.loginForm.value['password'])\n      .then((result) => {\n        this.redirectLoggedUserToProfilePage();\n      })\n      .catch((error) => {\n        this.submitError = error.message;\n      });\n    } finally {\n      // ? Termination code goes here\n    }\n  }\n\n  // ? Once the auth provider finished the authentication flow, and the auth redirect completes, hide the loader and redirect the user to the profile page\n  private redirectLoggedUserToProfilePage(): void {\n    // As we are calling the Angular router navigation inside a subscribe method, the navigation will be triggered outside Angular zone.\n    // That's why we need to wrap the router navigation call inside an ngZone wrapper\n    this.ngZone.run(() => {\n      // Get previous URL from our custom History Helper\n      // If there's no previous page, then redirect to profile\n      // const previousUrl = this.historyHelper.previousUrl || 'firebase/auth/profile';\n      const previousUrl = 'firebase/auth/profile';\n\n      // No need to store in the navigation history the sign-in page with redirect params (it's just a a mandatory mid-step)\n      // Navigate to profile and replace current url with profile\n      this.router.navigate([previousUrl], { replaceUrl: true });\n    });\n  }\n\n  private manageAuthWithProvidersErrors(errorMessage: string): void {\n    this.submitError = errorMessage;\n  }\n\n  private resetSubmitError(): void {\n    this.submitError = null;\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"login-content\">\n  <h2 class=\"auth-title\">\n    Sign In with Firebase\n    <br/>\n  </h2>\n  <form [formGroup]=\"loginForm\" (ngSubmit)=\"signInWithEmail()\">\n    <ion-list class=\"inputs-list\" lines=\"full\">\n      <ion-item class=\"input-item\">\n        <ion-input type=\"email\" placeholder=\"Email\" formControlName=\"email\" clearInput autocapitalize=\"off\" inputmode=\"email\"></ion-input>\n      </ion-item>\n      <div class=\"error-container\">\n        <ng-container *ngFor=\"let validation of validation_messages.email\">\n          <div class=\"error-message\" *ngIf=\"loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)\">\n            <ion-icon name=\"information-circle-outline\"></ion-icon>\n            <span>{{ validation.message }}</span>\n          </div>\n        </ng-container>\n      </div>\n\n      <ion-item class=\"input-item\">\n        <app-show-hide-password>\n          <ion-input type=\"password\" placeholder=\"Password\" formControlName=\"password\"></ion-input>\n        </app-show-hide-password>\n      </ion-item>\n      <div class=\"error-container\">\n        <ng-container *ngFor=\"let validation of validation_messages.password\">\n          <div class=\"error-message\" *ngIf=\"loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)\">\n            <ion-icon name=\"information-circle-outline\"></ion-icon>\n            <span>{{ validation.message }}</span>\n          </div>\n        </ng-container>\n      </div>\n    </ion-list>\n\n    <ion-button class=\"login-btn\" type=\"submit\" expand=\"block\" [disabled]=\"!loginForm.valid\">Log In</ion-button>\n    <div class=\"error-container\" *ngIf=\"submitError\">\n      <div class=\"error-message\">\n        <ion-icon name=\"information-circle-outline\"></ion-icon>\n        <span>{{ submitError }}</span>\n      </div>\n    </div>\n    <ion-row class=\"other-auth-options-row\">\n      <ion-button class=\"signup-btn\" fill=\"clear\" [routerLink]=\"['/firebase/auth/sign-up']\">\n        Sign Up!\n      </ion-button>\n    </ion-row>\n  </form>\n\n  <div class=\"social-auth-options\">\n    <p class=\"options-divider\">Or</p>\n    <ion-button class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"facebook\" (click)=\"doFacebookLogin()\">Log In with Facebook</ion-button>\n    <ion-button class=\"social-auth-btn google-auth-btn\" expand=\"block\" color=\"google\" (click)=\"doGoogleLogin()\">Log In with Google</ion-button>\n    <ion-button class=\"social-auth-btn twitter-auth-btn\" expand=\"block\" color=\"twitter\" (click)=\"doTwitterLogin()\">Log In with Twitter</ion-button>\n    <ion-button class=\"social-auth-btn apple-auth-btn\" expand=\"block\" color=\"dark\" (click)=\"doAppleLogin()\">Log In with Apple</ion-button>\n  </div>\n</ion-content>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}