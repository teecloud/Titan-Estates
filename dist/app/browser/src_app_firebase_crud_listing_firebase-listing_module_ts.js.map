{"version":3,"file":"src_app_firebase_crud_listing_firebase-listing_module_ts.js","mappings":"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","sources":["./src/app/firebase/crud/listing/firebase-listing.module.ts","./src/app/firebase/crud/listing/firebase-listing.page.ts","./src/app/firebase/crud/listing/firebase-listing.page.html","./src/app/firebase/crud/listing/firebase-listing.resolver.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { FirebaseListingPage } from './firebase-listing.page';\nimport { FirebaseListingResolver } from './firebase-listing.resolver';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { FirebaseCrudService } from '../firebase-crud.service';\nimport { FirebaseCrudSharedModule } from '../firebase-crud-shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirebaseListingPage,\n    resolve: {\n      data: FirebaseListingResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes),\n    FirebaseCrudSharedModule\n  ],\n  declarations: [\n    FirebaseListingPage\n  ],\n  providers: [\n    FirebaseCrudService,\n    FirebaseListingResolver\n  ]\n})\nexport class FirebaseListingPageModule {}\n","import { Component, OnInit, OnDestroy, HostBinding } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormControl } from '@angular/forms';\nimport { ModalController, IonRouterOutlet } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { Observable, ReplaySubject, Subscription, merge } from 'rxjs';\nimport { switchMap, map } from 'rxjs/operators';\n\nimport { FirebaseListingItemModel } from './firebase-listing.model';\nimport { FirebaseCreateUserModalComponent } from '../user/create/firebase-create-user.modal';\nimport { DataStore, ShellModel } from '../../../../app/shell/data-store';\nimport { FirebaseCrudService } from '../firebase-crud.service';\n\n\n@Component({\n  selector: 'app-firebase-listing',\n  templateUrl: './firebase-listing.page.html',\n  styleUrls: [\n    './styles/firebase-listing.page.scss',\n    './styles/firebase-listing.ios.scss',\n    './styles/firebase-listing.shell.scss'\n  ],\n})\nexport class FirebaseListingPage implements OnInit, OnDestroy {\n  rangeForm: UntypedFormGroup;\n  searchQuery: string;\n  showAgeFilter = false;\n\n  searchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\n  searchFiltersObservable: Observable<any> = this.searchSubject.asObservable();\n\n  listingDataStore: DataStore<Array<FirebaseListingItemModel>>;\n  stateSubscription: Subscription;\n\n  // Use Typescript intersection types to enable docorating the Array of firebase models with a shell model\n  // (ref: https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)\n  items: Array<FirebaseListingItemModel> & ShellModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.items && this.items.isShell) ? true : false;\n  }\n\n  constructor(\n    public firebaseCrudService: FirebaseCrudService,\n    public modalController: ModalController,\n    private route: ActivatedRoute,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngOnDestroy(): void {\n    this.stateSubscription.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.searchQuery = '';\n\n    this.rangeForm = new UntypedFormGroup({\n      dual: new UntypedFormControl({lower: 1, upper: 100})\n    });\n\n    this.route.data\n    .subscribe({\n      next: (resolvedRouteData) => {\n        this.listingDataStore = resolvedRouteData['data'];\n\n        // We need to avoid having multiple firebase subscriptions open at the same time to avoid memory leaks\n        // By using a switchMap to cancel previous subscription each time a new one arrives,\n        // we ensure having just one subscription (the latest)\n        const updateSearchObservable = this.searchFiltersObservable.pipe(\n          switchMap((filters) => {\n            const filteredDataSource = this.firebaseCrudService.searchUsersByAge(\n              filters.lower,\n              filters.upper\n            );\n            // Send a shell until we have filtered data from Firebase\n            const searchingShellModel = [\n              new FirebaseListingItemModel(),\n              new FirebaseListingItemModel()\n            ];\n            // Wait on purpose some time to ensure the shell animation gets shown while loading filtered data\n            const searchingDelay = 400;\n\n            const dataSourceWithShellObservable = DataStore.AppendShell(filteredDataSource, searchingShellModel, searchingDelay);\n\n            return dataSourceWithShellObservable.pipe(\n              map(filteredItems => {\n                // Just filter items by name if there is a search query and they are not shell values\n                if (filters.query !== '' && !filteredItems.isShell) {\n                  const queryFilteredItems = filteredItems.filter(item =>\n                    item.name.toLowerCase().includes(filters.query.toLowerCase()\n                  ));\n                  // While filtering we strip out the isShell property, add it again\n                  return Object.assign(queryFilteredItems, {isShell: filteredItems.isShell});\n                } else {\n                  return filteredItems;\n                }\n              })\n            );\n          })\n        );\n\n        // Keep track of the subscription to unsubscribe onDestroy\n        // Merge filteredData with the original dataStore state\n        this.stateSubscription = merge(\n          this.listingDataStore.state,\n          updateSearchObservable\n        )\n        .subscribe({\n          next: (state) => {\n            this.items = state;\n          },\n          error: (error) => console.log(error),\n          complete: () => console.log('stateSubscription completed')\n        });\n      },\n      error: (error) => console.log(error)\n    });\n  }\n\n  async openFirebaseCreateModal() {\n    const modal = await this.modalController.create({\n      id: 'createModal',\n      componentProps: {\n        'modalId': 'createModal'\n      },\n      component: FirebaseCreateUserModalComponent,\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    await modal.present();\n  }\n\n  searchList() {\n    this.searchSubject.next({\n      lower: this.rangeForm.controls.dual.value.lower,\n      upper: this.rangeForm.controls.dual.value.upper,\n      query: this.searchQuery\n    });\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button color=\"light\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Firebase</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"openFirebaseCreateModal()\">\n        <ion-icon slot=\"icon-only\" name=\"add\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n\n  <ion-toolbar class=\"filters-toolbar\">\n    <ion-row class=\"searchbar-row\" align-items-center>\n      <ion-col>\n        <ion-searchbar class=\"items-searchbar\" animated [(ngModel)]=\"searchQuery\" (ionChange)=\"searchList()\" placeholder=\"Filter by name...\"></ion-searchbar>\n      </ion-col>\n      <ion-col class=\"call-to-action-col\">\n        <ion-button fill=\"clear\" color=\"secondary\" class=\"filters-btn\" (click)=\"showAgeFilter = !showAgeFilter\">\n          <ion-icon slot=\"icon-only\" name=\"options\"></ion-icon>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n    <form [formGroup]=\"rangeForm\" [hidden]=\"!showAgeFilter\">\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-value\">{{ rangeForm.controls.dual.value.lower }}</span>\n            <span class=\"range-label\">Filter by age</span>\n            <span class=\"range-value\">{{ rangeForm.controls.dual.value.upper }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"dual\" color=\"secondary\" pin=\"true\" dualKnobs=\"true\" (ionChange)=\"searchList()\" min=\"1\" max=\"100\" step=\"1\" debounce=\"400\"></ion-range>\n        </ion-col>\n      </ion-row>\n    </form>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"firebase-listing-content\">\n  <ion-list class=\"items-list\" *ngIf=\"items?.length > 0\">\n    <ion-item class=\"list-item\" *ngFor=\"let item of items\" [routerLink]=\"['/firebase/crud/details', item.id]\">\n      <ion-row class=\"user-row\">\n        <ion-col size=\"3\" class=\"user-image-wrapper\">\n          <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n            <app-image-shell class=\"user-image\" animation=\"spinner\" [src]=\"item.avatar\" [alt]=\"'item image'\"></app-image-shell>\n          </app-aspect-ratio>\n        </ion-col>\n        <ion-col class=\"user-data-wrapper\">\n          <div class=\"user-info\">\n            <h3 class=\"user-name\">\n              <app-text-shell animation=\"bouncing\" [data]=\"item.name?.concat(' ').concat(item.lastname)\"></app-text-shell>\n            </h3>\n            <h5 class=\"user-age\">\n              <app-text-shell animation=\"bouncing\" [data]=\"item.age?.toString().concat(' years old')\"></app-text-shell>\n            </h5>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-item>\n  </ion-list>\n  <h3 *ngIf=\"items?.length === 0\" class=\"empty-list-message\">\n    No users found for the selected filters.\n  </h3>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { FirebaseListingItemModel } from './firebase-listing.model';\nimport { FirebaseCrudService } from '../firebase-crud.service';\nimport { DataStore } from '../../../shell/data-store';\n\n@Injectable()\nexport class FirebaseListingResolver implements Resolve<any> {\n\n  constructor(private firebaseCrudService: FirebaseCrudService) {}\n\n  resolve() {\n    const dataSource: Observable<Array<FirebaseListingItemModel>> = this.firebaseCrudService.getListingDataSource();\n\n    const dataStore: DataStore<Array<FirebaseListingItemModel>> = this.firebaseCrudService.getListingStore(dataSource);\n\n    return dataStore;\n  }\n}\n"],"names":["CommonModule","FormsModule","ReactiveFormsModule","RouterModule","IonicModule","FirebaseListingPage","FirebaseListingResolver","ComponentsModule","FirebaseCrudService","FirebaseCrudSharedModule","routes","path","component","resolve","data","FirebaseListingPageModule","_","_2","_3","imports","forChild","declarations","i1","UntypedFormGroup","UntypedFormControl","ModalController","IonRouterOutlet","ActivatedRoute","ReplaySubject","merge","switchMap","map","FirebaseListingItemModel","FirebaseCreateUserModalComponent","DataStore","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction1","_c0","item_r3","id","ɵɵadvance","ɵɵpureFunction0","_c1","avatar","name","concat","lastname","age","toString","ɵɵtemplate","FirebaseListingPage_ion_list_29_ion_item_1_Template","ctx_r0","items","ɵɵtext","constructor","firebaseCrudService","modalController","route","routerOutlet","showAgeFilter","searchSubject","searchFiltersObservable","asObservable","isShell","ngOnDestroy","stateSubscription","unsubscribe","ngOnInit","searchQuery","rangeForm","dual","lower","upper","subscribe","next","resolvedRouteData","listingDataStore","updateSearchObservable","pipe","filters","filteredDataSource","searchUsersByAge","searchingShellModel","searchingDelay","dataSourceWithShellObservable","AppendShell","filteredItems","query","queryFilteredItems","filter","item","toLowerCase","includes","Object","assign","state","error","console","log","complete","openFirebaseCreateModal","_this","_asyncToGenerator","modal","create","componentProps","swipeToClose","presentingElement","nativeEl","present","searchList","controls","value","ɵɵdirectiveInject","i2","i3","selectors","hostVars","hostBindings","FirebaseListingPage_HostBindings","rf","ctx","ɵɵlistener","FirebaseListingPage_Template_ion_button_click_7_listener","FirebaseListingPage_Template_ion_searchbar_ngModelChange_12_listener","$event","FirebaseListingPage_Template_ion_searchbar_ionChange_12_listener","FirebaseListingPage_Template_ion_button_click_14_listener","FirebaseListingPage_Template_ion_range_ionChange_27_listener","FirebaseListingPage_ion_list_29_Template","FirebaseListingPage_h3_30_Template","ɵɵtextInterpolate","length","dataSource","getListingDataSource","dataStore","getListingStore","ɵɵinject","factory","ɵfac"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}