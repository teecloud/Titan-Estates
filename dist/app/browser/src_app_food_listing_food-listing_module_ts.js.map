{"version":3,"file":"src_app_food_listing_food-listing_module_ts.js","mappings":"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","sources":["./src/app/food/listing/food-listing.module.ts","./src/app/food/listing/food-listing.page.ts","./src/app/food/listing/food-listing.page.html","./src/app/food/listing/food-listing.resolver.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\nimport { FoodService } from '../food.service';\nimport { FoodListingPage } from './food-listing.page';\nimport { FoodListingResolver } from './food-listing.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FoodListingPage,\n    resolve: {\n      data: FoodListingResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    PipesModule\n  ],\n  declarations: [\n    FoodListingPage\n  ],\n  providers: [\n    FoodListingResolver,\n    FoodService\n  ]\n})\nexport class FoodListingPageModule {}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\nimport { FoodListingModel } from './food-listing.model';\nimport { switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-food-listing',\n  templateUrl: './food-listing.page.html',\n  styleUrls: [\n    './styles/food-listing.page.scss',\n    './styles/food-listing.shell.scss'\n  ]\n})\nexport class FoodListingPage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n\n  listing: FoodListingModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.listing && this.listing.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.subscriptions = this.route.data\n    .pipe(\n      // Extract data for this page\n      switchMap((resolvedRouteData: IResolvedRouteData<FoodListingModel>) => {\n        return ResolverHelper.extractData<FoodListingModel>(resolvedRouteData.data, FoodListingModel);\n      })\n    )\n    .subscribe({\n      next: (state) => {\n        this.listing = state;\n      },\n      error: (error) => console.log(error)\n    });\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Food Listing</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"food-listing-content\">\n  <ng-container *ngIf=\"listing?.items\">\n    <div class=\"listing-item\" *ngFor=\"let item of listing?.items\">\n      <div class=\"cover-wrapper\">\n        <a class=\"cover-anchor\" [routerLink]=\"['/app/categories/food/', item.slug]\">\n          <app-image-shell class=\"cover-image add-overlay\" animation=\"spinner\" [display]=\"'cover'\" [src]=\"item.image\">\n            <app-aspect-ratio [ratio]=\"{w:35, h:15}\">\n              <div class=\"cover-icon-wrapper\">\n                <app-aspect-ratio [ratio]=\"{w: 20, h: 7}\">\n                  <app-image-shell class=\"item-icon\" [src]=\"item.icon\"></app-image-shell>\n                </app-aspect-ratio>\n              </div>\n            </app-aspect-ratio>\n          </app-image-shell>\n        </a>\n      </div>\n      <ion-row class=\"info-row\">\n        <ion-col class=\"description-col\">\n          <ion-row class=\"description-wrapper\">\n            <h3 class=\"item-name\">\n              <a class=\"name-anchor\" [routerLink]=\"['/app/categories/food/', item.slug]\">\n                <app-text-shell [data]=\"item.name\"></app-text-shell>\n              </a>\n            </h3>\n            <p class=\"item-address\">\n              <app-text-shell [data]=\"item.address\"></app-text-shell>\n            </p>\n            <ion-row class=\"item-tags\">\n              <ion-col class=\"tag-wrapper\" *ngFor=\"let tag of item.tags\">\n                <span class=\"item-tag\">\n                  <app-text-shell [data]=\"tag\"></app-text-shell>\n                </span>\n              </ion-col>\n            </ion-row>\n          </ion-row>\n        </ion-col>\n        <ion-col class=\"stats-col\">\n          <span class=\"item-rating\" [attr.ratingBase]=\"item.rating | floor\">\n            <app-text-shell [data]=\"item.rating\"></app-text-shell>\n          </span>\n          <div class=\"item-price-range\">\n            <span class=\"price\" *ngFor=\"let price of [].constructor(item.priceRange)\">$</span>\n            <span class=\"no-price\" *ngFor=\"let price of [].constructor(5 - (item.priceRange || 1))\">$</span>\n          </div>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"pictures-row\">\n        <ion-col class=\"picture-wrapper\" *ngFor=\"let picture of item.pictures.slice(0, 5); let i = index\">\n          <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n            <app-image-shell class=\"picture-image\" [src]=\"picture\" [alt]=\"'food image'\"></app-image-shell>\n          </app-aspect-ratio>\n          <a class=\"has-more-pictures\" [routerLink]=\"['/app/categories/food/', item.slug]\" *ngIf=\"i === 4 && item.pictures.length > 5\">\n            <span class=\"pictures-count\">{{ item.pictures.length - 5 }}</span>\n          </a>\n        </ion-col>\n      </ion-row>\n    </div>\n  </ng-container>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { FoodService } from '../food.service';\nimport { FoodListingModel } from './food-listing.model';\n\n@Injectable()\nexport class FoodListingResolver implements Resolve<DataStore<FoodListingModel>> {\n\n  constructor(private foodService: FoodService) {}\n\n  resolve(): DataStore<FoodListingModel> {\n    const dataSource: Observable<FoodListingModel> = this.foodService.getListingDataSource();\n    const dataStore: DataStore<FoodListingModel> = this.foodService.getListingStore(dataSource);\n\n    return dataStore;\n  }\n}\n"],"names":["CommonModule","RouterModule","IonicModule","ComponentsModule","PipesModule","FoodService","FoodListingPage","FoodListingResolver","routes","path","component","resolve","data","FoodListingPageModule","_","_2","_3","imports","forChild","declarations","i1","ActivatedRoute","ResolverHelper","FoodListingModel","switchMap","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","tag_r7","ɵɵtext","ɵɵpureFunction1","_c0","item_r2","slug","ɵɵtextInterpolate","pictures","length","ɵɵtemplate","FoodListingPage_ng_container_7_div_1_ion_col_26_a_3_Template","ɵɵpureFunction0","_c1","picture_r10","i_r11","FoodListingPage_ng_container_7_div_1_ion_col_17_Template","FoodListingPage_ng_container_7_div_1_span_23_Template","FoodListingPage_ng_container_7_div_1_span_24_Template","FoodListingPage_ng_container_7_div_1_ion_col_26_Template","image","_c2","_c3","icon","name","address","tags","ɵɵattribute","ɵɵpipeBind1","rating","_c4","constructor","priceRange","slice","ɵɵelementContainerStart","FoodListingPage_ng_container_7_div_1_Template","ɵɵelementContainerEnd","ctx_r0","listing","items","route","isShell","ngOnInit","subscriptions","pipe","resolvedRouteData","extractData","subscribe","next","state","error","console","log","ionViewWillLeave","unsubscribe","ɵɵdirectiveInject","selectors","hostVars","hostBindings","FoodListingPage_HostBindings","rf","ctx","FoodListingPage_ng_container_7_Template","foodService","dataSource","getListingDataSource","dataStore","getListingStore","ɵɵinject","factory","ɵfac"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}