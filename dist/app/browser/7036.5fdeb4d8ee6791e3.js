(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7036],{7036:(L,d,i)=>{"use strict";i.r(d),i.d(d,{DealsListingPageModule:()=>P});var s=i(6895),l=i(3893),a=i(9267),Z=i(3678),T=i(5503),r=i(2742),g=i(5971),m=i(7287),M=i(3900),n=i(4650),C=i(9330),h=i(1408),_=i(4840),O=i(9521),v=i(1192),u=i(1764),f=i(2243);class c{transform(o,t=!1){u.extend(f);let A="";if(o){const Y=t||!(u(o).diff(u(),"day")<0);A=u().to(u(o),Y)}return A}}c.\u0275fac=function(o){return new(o||c)},c.\u0275pipe=n.Yjl({name:"appTimeAgo",type:c,pure:!0});const p=function(e){return["/app/categories/deals/",e]};function w(e,o){if(1&e&&(n.TgZ(0,"ion-col",29)(1,"ion-button",30)(2,"span",31),n._uU(3,"CLAIM"),n.qZA(),n._UZ(4,"ion-icon",32),n.qZA()()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(1,p,t.slug))}}function b(e,o){1&e&&(n.TgZ(0,"ion-col",29)(1,"span",33),n._uU(2,"EXPIRED"),n.qZA()())}function y(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"span",34),n._UZ(2,"app-text-shell",26),n.ALo(3,"appTimeAgo"),n.qZA(),n.BQk()),2&e){const t=n.oxw().$implicit;n.xp6(2),n.Q6J("data",n.lcZ(3,1,t.expirationDate))}}const k=function(){return{from:"hour",to:"second"}};function z(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-row",35),n._UZ(2,"app-countdown-timer",36),n.qZA(),n.BQk()),2&e){const t=n.oxw().$implicit;n.xp6(2),n.Q6J("end",t.expirationDate)("units",n.DdM(2,k))}}const F=function(e,o,t,A){return{ended:e,"imminent-end":o,"ends-soon":t,"distant-end":A}},Q=function(){return{w:128,h:32}},J=function(e){return{expired:e}},U=function(e){return{"countdown-active":e}};function I(e,o){if(1&e&&(n.TgZ(0,"div",6),n.ALo(1,"appTimeDifference"),n.ALo(2,"appTimeDifference"),n.ALo(3,"appTimeDifference"),n.ALo(4,"appTimeDifference"),n.ALo(5,"appTimeDifference"),n.ALo(6,"appTimeDifference"),n.ALo(7,"appTimeDifference"),n.TgZ(8,"ion-row",7)(9,"ion-col",8)(10,"app-aspect-ratio",9),n._UZ(11,"app-image-shell",10),n.qZA()(),n.YNc(12,w,5,3,"ion-col",11),n.ALo(13,"appTimeDifference"),n.YNc(14,b,3,0,"ion-col",11),n.ALo(15,"appTimeDifference"),n.qZA(),n.TgZ(16,"ion-row",12)(17,"ion-col",13)(18,"h4",14)(19,"a",15),n._UZ(20,"app-text-shell",16),n.qZA()(),n.TgZ(21,"p",17),n._UZ(22,"app-text-shell",18),n.qZA()(),n.TgZ(23,"ion-col",19)(24,"ion-button",20),n._UZ(25,"ion-icon",21),n.qZA()()(),n.TgZ(26,"ion-row",22)(27,"ion-col",23)(28,"span",24),n._uU(29,"Use this code:"),n.qZA(),n.TgZ(30,"span",25),n.ALo(31,"appTimeDifference"),n._UZ(32,"app-text-shell",26),n.qZA()(),n.TgZ(33,"ion-col",27),n.ALo(34,"appTimeDifference"),n.ALo(35,"appTimeDifference"),n.TgZ(36,"span",28),n._uU(37),n.ALo(38,"appTimeDifference"),n.qZA(),n.YNc(39,y,4,3,"ng-container",4),n.ALo(40,"appTimeDifference"),n.ALo(41,"appTimeDifference"),n.YNc(42,z,3,3,"ng-container",4),n.ALo(43,"appTimeDifference"),n.ALo(44,"appTimeDifference"),n.qZA()()()),2&e){const t=o.$implicit;n.Q6J("ngClass",n.l5B(49,F,n.lcZ(1,15,t.expirationDate)<0,n.lcZ(2,17,t.expirationDate)>0&&n.lcZ(3,19,t.expirationDate)<=2,n.lcZ(4,21,t.expirationDate)>0&&n.lcZ(5,23,t.expirationDate)>2&&n.lcZ(6,25,t.expirationDate)<10,n.lcZ(7,27,t.expirationDate)>=10)),n.xp6(10),n.Q6J("ratio",n.DdM(54,Q)),n.xp6(1),n.Q6J("src",t.logo)("alt","deals logo"),n.xp6(1),n.Q6J("ngIf",n.lcZ(13,29,t.expirationDate)>0),n.xp6(2),n.Q6J("ngIf",n.lcZ(15,31,t.expirationDate)<0),n.xp6(5),n.Q6J("routerLink",n.VKq(55,p,t.slug)),n.xp6(1),n.Q6J("data",t.name),n.xp6(2),n.Q6J("data",t.description),n.xp6(8),n.Q6J("ngClass",n.VKq(57,J,n.lcZ(31,33,t.expirationDate)<0)),n.xp6(2),n.Q6J("data",t.code),n.xp6(1),n.Q6J("ngClass",n.VKq(59,U,n.lcZ(34,35,t.expirationDate)>0&&n.lcZ(35,37,t.expirationDate)<=2)),n.xp6(4),n.hij("DEAL ",n.lcZ(38,39,t.expirationDate)<0?"EXPIRED":"EXPIRES IN",":"),n.xp6(2),n.Q6J("ngIf",n.lcZ(40,41,t.expirationDate)<0||n.lcZ(41,43,t.expirationDate)>2),n.xp6(3),n.Q6J("ngIf",n.lcZ(43,45,t.expirationDate)>0&&n.lcZ(44,47,t.expirationDate)<=2)}}function S(e,o){if(1&e&&(n.ynx(0),n.YNc(1,I,45,61,"div",5),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",null==t.listing?null:t.listing.items)}}class D{constructor(o){this.route=o}get isShell(){return!(!this.listing||!this.listing.isShell)}ngOnInit(){this.subscriptions=this.route.data.pipe((0,M.w)(o=>g.f.extractData(o.data,m.B))).subscribe({next:o=>{this.listing=o},error:o=>console.log(o)})}ionViewWillLeave(){this.subscriptions.unsubscribe()}}D.\u0275fac=function(o){return new(o||D)(n.Y36(l.gz))},D.\u0275cmp=n.Xpm({type:D,selectors:[["app-deals-listing"]],hostVars:2,hostBindings:function(o,t){2&o&&n.ekj("is-shell",t.isShell)},decls:8,vars:1,consts:[["color","primary"],["slot","start"],["defaultHref","app/categories"],[1,"deals-listing-content"],[4,"ngIf"],["class","listing-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"listing-item",3,"ngClass"],[1,"top-row"],["size","6",1,"logo-col"],[3,"ratio"],["animation","spinner",1,"deal-logo",3,"src","alt"],["class","call-to-action-col",4,"ngIf"],[1,"middle-row"],[1,"info-col"],[1,"item-name"],[1,"name-anchor",3,"routerLink"],["animation","bouncing",3,"data"],[1,"item-description"],["animation","bouncing","lines","3",3,"data"],["size","2"],["expand","block","fill","clear","color","claim",1,"bookmark-button"],["slot","icon-only","name","pricetag"],[1,"bottom-row"],[1,"code-wrapper"],[1,"code-cta"],[1,"item-code",3,"ngClass"],[3,"data"],["size","5",1,"time-left-wrapper",3,"ngClass"],[1,"expiration-cta"],[1,"call-to-action-col"],["expand","block","color","claim",1,"claim-button",3,"routerLink"],[1,"button-cta"],["slot","end","name","arrow-forward"],[1,"expired-cta"],[1,"item-time-left"],[1,"countdown-wrapper"],["fill","inner-time",1,"item-countdown",3,"end","units"]],template:function(o,t){1&o&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Deals Listing"),n.qZA()()(),n.TgZ(6,"ion-content",3),n.YNc(7,S,2,1,"ng-container",4),n.qZA()),2&o&&(n.xp6(7),n.Q6J("ngIf",null==t.listing?null:t.listing.items))},dependencies:[s.mk,s.sg,s.O5,a.oU,a.YG,a.Sm,a.wI,a.W2,a.Gu,a.gu,a.Nd,a.wd,a.sr,a.cs,a.YI,a.Fo,l.rH,C.m,h.U,_.$,O.t,v._,c],styles:["[_nghost-%COMP%]{--page-margin: var(--app-broad-margin);--page-background: var(--app-background-shade);--page-countdown-fill-shadow-color: rgba(var(--ion-color-darkest-rgb), .2);--page-item-shadow-color: rgba(var(--ion-color-dark-rgb), .1);--page-deal-code-height: 30px;--page-countdown-gutter: 3px;--page-expired-color: var(--ion-color-medium-tint);--page-ends-soon-color: #FFAB6B;--page-distant-end-color: #70DF70;--page-deal-color: var(--ion-color-medium);--page-deal-border-color: var(--ion-color-light-shade);--page-color: #70DF70;--ion-color-claim: #70DF70;--ion-color-claim-rgb: 112,223,112;--ion-color-claim-contrast: #FFFFFF;--ion-color-claim-contrast-rgb: 255,255,255;--ion-color-claim-shade: #63C463;--ion-color-claim-tint: #7EE27E}[_nghost-%COMP%]   .ion-color-claim[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-claim) !important;--ion-color-base-rgb: var(--ion-color-claim-rgb) !important;--ion-color-contrast: var(--ion-color-claim-contrast) !important;--ion-color-contrast-rgb: var(--ion-color-claim-contrast-rgb) !important;--ion-color-shade: var(--ion-color-claim-shade) !important;--ion-color-tint: var(--ion-color-claim-tint) !important}.deals-listing-content[_ngcontent-%COMP%]{--background: var(--page-background)}.listing-item[_ngcontent-%COMP%]{background-color:var(--ion-color-lightest);margin:var(--page-margin);border-radius:var(--app-fair-radius);box-shadow:1px 1px 4px 1px var(--page-item-shadow-color);border-bottom-style:solid;border-bottom-width:calc(var(--page-margin) / 2 * 3);border-bottom-color:var(--page-deal-border-color)}.listing-item.ended[_ngcontent-%COMP%]{--page-deal-color: var(--page-expired-color);--page-deal-border-color: var(--page-expired-color);border-bottom-style:none}.listing-item.imminent-end[_ngcontent-%COMP%]{--page-deal-color: var(--page-ends-soon-color);--page-deal-border-color: var(--page-distant-end-color)}.listing-item.ends-soon[_ngcontent-%COMP%]{--page-deal-color: var(--page-ends-soon-color);--page-deal-border-color: var(--page-ends-soon-color);border-bottom-style:none}.listing-item.distant-end[_ngcontent-%COMP%]{--page-deal-color: var(--page-distant-end-color);--page-deal-border-color: var(--page-distant-end-color);border-bottom-style:none}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{--ion-grid-column-padding: 0px;border-bottom:2px dashed rgba(var(--ion-color-dark-rgb),.1);padding:calc(var(--page-margin) / 2);justify-content:space-between;align-items:center}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .logo-col[_ngcontent-%COMP%]{align-self:center}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]{flex-grow:0}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .expired-cta[_ngcontent-%COMP%]{color:var(--page-expired-color);font-size:16px;font-weight:600;letter-spacing:.8px}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]{--box-shadow: none;--border-radius: var(--app-fair-radius);margin:0}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]:focus{outline:none}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]   .button-cta[_ngcontent-%COMP%]{display:block;line-height:18px;font-size:16px;font-weight:600}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]{--ion-grid-column-padding: 0px;padding:calc(var(--page-margin) / 2);padding-bottom:var(--page-margin)}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .info-col[_ngcontent-%COMP%]{padding-right:calc(var(--page-margin) / 2)}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{margin:0;margin-bottom:calc(var(--page-margin) / 2);color:var(--ion-color-dark-tint);font-size:16px}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]   .name-anchor[_ngcontent-%COMP%]{display:block;text-decoration:none}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium-tint);font-size:14px}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .bookmark-button[_ngcontent-%COMP%]{--padding-start: 5px;--padding-end: 5px;margin:0;font-size:16px}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]{--ion-grid-column-padding: 0px;padding:0px calc(var(--page-margin) / 2) calc(var(--page-margin) / 2);justify-content:space-between}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]   .code-cta[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:5px;display:block}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]   .item-code[_ngcontent-%COMP%]{height:var(--page-deal-code-height);text-transform:uppercase;padding:calc(var(--page-margin) / 4) calc(var(--page-margin) / 2);border:2px solid var(--page-color);font-size:12px;font-weight:500;line-height:1;border-radius:calc(var(--page-deal-code-height) / 2);display:flex;align-items:center;justify-content:center}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]   .item-code.expired[_ngcontent-%COMP%]{border-color:var(--page-expired-color);color:var(--page-expired-color);opacity:.6}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper[_ngcontent-%COMP%]{flex-shrink:0;max-width:-moz-fit-content;max-width:fit-content;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper[_ngcontent-%COMP%]   .expiration-cta[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:5px;display:block;text-transform:uppercase;text-align:end}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper[_ngcontent-%COMP%]:not(.countdown-active)   .item-time-left[_ngcontent-%COMP%]{color:var(--page-deal-color);font-size:14px;font-weight:500;display:block;text-align:end}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper.countdown-active[_ngcontent-%COMP%]{display:block;position:relative}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper.countdown-active[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;position:absolute;right:0}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper.countdown-active[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   app-countdown-timer.item-countdown[_ngcontent-%COMP%]{--countdown-time-margin: 0px;--countdown-time-padding: 0px;--countdown-inner-time-margin: var(--page-countdown-gutter) var(--page-countdown-gutter) 0px;--countdown-inner-time-padding: calc(var(--page-margin) / 2) calc(var(--page-margin) / 4);--countdown-fill-border: none;--countdown-fill-border-radius: var(--app-narrow-radius);--countdown-fill-background: var(--ion-color-lightest);--countdown-fill-shadow: 0px 0px 5px 0px var(--page-countdown-fill-shadow-color);--countdown-value-color: var(--ion-color-darkest);--countdown-unit-color: var(--ion-color-medium-shade);--countdown-time-flex-direction: column;font-weight:500;font-size:14px;margin-right:calc(var(--page-countdown-gutter) * -1)}","[_nghost-%COMP%]{--shell-color: #70DF70;--shell-color-rgb: 112,223,112}app-image-shell.deal-logo[_ngcontent-%COMP%]{--image-shell-loading-background: rgba(var(--shell-color-rgb), .1);--image-shell-spinner-color: rgba(var(--shell-color-rgb), .3);--image-shell-spinner-size: 18px}.item-name[_ngcontent-%COMP%]   app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color: rgba(var(--shell-color-rgb), .3);--text-shell-line-height: 16px}.item-description[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color: rgba(var(--shell-color-rgb), .2);--text-shell-line-height: 14px}.item-code[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color: rgba(var(--shell-color-rgb), .15);--text-shell-line-height: 14px;min-width:60px}.item-code[_ngcontent-%COMP%] > app-text-shell.text-loaded[_ngcontent-%COMP%]{min-width:0px}.item-time-left[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color: rgba(var(--shell-color-rgb), .1);--text-shell-line-height: 14px;min-width:60px}.item-time-left[_ngcontent-%COMP%] > app-text-shell.text-loaded[_ngcontent-%COMP%]{min-width:0px}",".ios[_nghost-%COMP%]   .claim-button[_ngcontent-%COMP%], .ios   [_nghost-%COMP%]   .claim-button[_ngcontent-%COMP%]{height:2.2em}"]});class x{constructor(o){this.dealsService=o}resolve(){const o=this.dealsService.getListingDataSource();return this.dealsService.getListingStore(o)}}x.\u0275fac=function(o){return new(o||x)(n.LFG(r.W))},x.\u0275prov=n.Yz7({token:x,factory:x.\u0275fac});const B=[{path:"",component:D,resolve:{data:x}}];class P{}P.\u0275fac=function(o){return new(o||P)},P.\u0275mod=n.oAB({type:P}),P.\u0275inj=n.cJS({providers:[x,r.W],imports:[s.ez,a.Pc,l.Bz.forChild(B),Z.K,T.D]})},2243:function(L){L.exports=function(){"use strict";return function(d,i,s){d=d||{};var l=i.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(r,g,m,M){return l.fromToBase(r,g,m,M)}s.en.relativeTime=a,l.fromToBase=function(r,g,m,M,n){for(var C,h,_,O=m.$locale().relativeTime||a,v=d.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=v.length,f=0;f<u;f+=1){var c=v[f];c.d&&(C=M?s(r).diff(m,c.d,!0):m.diff(r,c.d,!0));var p=(d.rounding||Math.round)(Math.abs(C));if(_=C>0,p<=c.r||!c.r){p<=1&&f>0&&(c=v[f-1]);var w=O[c.l];n&&(p=n(""+p)),h="string"==typeof w?w.replace("%d",p):w(p,g,c.l,_);break}}if(g)return h;var b=_?O.future:O.past;return"function"==typeof b?b(h):b.replace("%s",h)},l.to=function(r,g){return Z(r,g,this,!0)},l.from=function(r,g){return Z(r,g,this)};var T=function(r){return r.$u?s.utc():s()};l.toNow=function(r){return this.to(T(this),r)},l.fromNow=function(r){return this.from(T(this),r)}}}()}}]);