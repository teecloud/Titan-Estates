"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4385],{4385:(I,m,s)=>{s.r(m),s.d(m,{FirebaseSignUpPageModule:()=>g});var l=s(6895),r=s(4006),d=s(3893),a=s(9267),h=s(4004),_=s(7311),p=s(5861),f=s(1823),v=s(2801),b=s(7086),n=s(4650),P=s(6089);function w(t,e){if(1&t&&(n.TgZ(0,"div",25),n._UZ(1,"ion-icon",26),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&t){const i=n.oxw().$implicit;n.xp6(3),n.Oqu(i.message)}}function Z(t,e){if(1&t&&(n.ynx(0),n.YNc(1,w,4,1,"div",24),n.BQk()),2&t){const i=e.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.signupForm.get("email").hasError(i.type)&&(o.signupForm.get("email").dirty||o.signupForm.get("email").touched))}}function U(t,e){if(1&t&&(n.TgZ(0,"div",25),n._UZ(1,"ion-icon",26),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&t){const i=n.oxw().$implicit;n.xp6(3),n.Oqu(i.message)}}function T(t,e){if(1&t&&(n.ynx(0),n.YNc(1,U,4,1,"div",24),n.BQk()),2&t){const i=e.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.signupForm.get("matching_passwords").get("password").hasError(i.type)&&(o.signupForm.get("matching_passwords").get("password").dirty||o.signupForm.get("matching_passwords").get("password").touched))}}function S(t,e){if(1&t&&(n.TgZ(0,"div",25),n._UZ(1,"ion-icon",26),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&t){const i=n.oxw().$implicit;n.xp6(3),n.Oqu(i.message)}}function F(t,e){if(1&t&&(n.ynx(0),n.YNc(1,S,4,1,"div",24),n.BQk()),2&t){const i=e.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.signupForm.get("matching_passwords").get("confirm_password").hasError(i.type)&&(o.signupForm.get("matching_passwords").get("confirm_password").dirty||o.signupForm.get("matching_passwords").get("confirm_password").touched))}}function y(t,e){if(1&t&&(n.TgZ(0,"div",25),n._UZ(1,"ion-icon",26),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&t){const i=n.oxw().$implicit;n.xp6(3),n.Oqu(i.message)}}function O(t,e){if(1&t&&(n.ynx(0),n.YNc(1,y,4,1,"div",24),n.BQk()),2&t){const i=e.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.signupForm.get("matching_passwords").hasError(i.type)&&(o.signupForm.get("matching_passwords").get("confirm_password").dirty||o.signupForm.get("matching_passwords").get("confirm_password").touched))}}function x(t,e){if(1&t&&(n.TgZ(0,"div",9)(1,"div",25),n._UZ(2,"ion-icon",26),n.TgZ(3,"span"),n._uU(4),n.qZA()()()),2&t){const i=n.oxw();n.xp6(4),n.Oqu(i.submitError)}}const A=function(){return["/firebase/auth/sign-in"]};class u{constructor(e,i,o,E,q){this.menu=e,this.router=i,this.firebaseAuthService=o,this.ngZone=E,this.historyHelper=q,this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 6 characters long."}],confirm_password:[{type:"required",message:"Confirm password is required"}],matching_passwords:[{type:"areNotEqual",message:"Password mismatch"}]},this.matching_passwords_group=new r.nJ({password:new r.p4("",r.kI.compose([r.kI.minLength(6),r.kI.required])),confirm_password:new r.p4("",r.kI.required)},c=>v._.areNotEqual(c)),this.signupForm=new r.nJ({email:new r.p4("",r.kI.compose([r.kI.required,r.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),matching_passwords:this.matching_passwords_group}),this.authRedirectResult=this.firebaseAuthService.redirectResult$.subscribe(c=>{c.error?this.manageAuthWithProvidersErrors(c.error):this.redirectLoggedUserToProfilePage()}),this.firebaseAuthService.authState$.subscribe(c=>{c.user?this.redirectLoggedUserToProfilePage():this.manageAuthWithProvidersErrors("No user logged in")})}ngOnInit(){this.menu.enable(!1)}doFacebookSignup(){var e=this;return(0,p.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithFacebook().then(i=>{e.redirectLoggedUserToProfilePage()}).catch(i=>{e.manageAuthWithProvidersErrors(i.message)})}finally{}})()}doGoogleSignup(){var e=this;return(0,p.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithGoogle().then(i=>{e.redirectLoggedUserToProfilePage()}).catch(i=>{e.manageAuthWithProvidersErrors(i.message)})}finally{}})()}doTwitterSignup(){var e=this;return(0,p.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithTwitter().then(i=>{e.redirectLoggedUserToProfilePage()}).catch(i=>{e.manageAuthWithProvidersErrors(i.message)})}finally{}})()}doAppleSignup(){var e=this;return(0,p.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithApple().then(i=>{e.redirectLoggedUserToProfilePage()}).catch(i=>{e.manageAuthWithProvidersErrors(i.message)})}finally{}})()}signUpWithEmail(){var e=this;return(0,p.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signUpWithEmail(e.signupForm.value.email,e.signupForm.value.matching_passwords.password).then(i=>{e.redirectLoggedUserToProfilePage()}).catch(i=>{e.submitError=i.message})}finally{}})()}redirectLoggedUserToProfilePage(){this.ngZone.run(()=>{this.router.navigate(["firebase/auth/profile"],{replaceUrl:!0})})}manageAuthWithProvidersErrors(e){this.submitError=e}resetSubmitError(){this.submitError=null}}u.\u0275fac=function(e){return new(e||u)(n.Y36(a._q),n.Y36(d.F0),n.Y36(b.X),n.Y36(n.R0b),n.Y36(f.n))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-firebase-sign-up"]],decls:43,vars:9,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","app/categories"],[1,"signup-content"],[1,"auth-title"],[3,"formGroup","ngSubmit"],["lines","full",1,"inputs-list"],[1,"input-item"],["type","email","placeholder","Email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email"],[1,"error-container"],[4,"ngFor","ngForOf"],["formGroupName","matching_passwords"],["type","password","placeholder","Password","formControlName","password"],["type","password","placeholder","Confirm Password","formControlName","confirm_password"],["type","submit","expand","block",1,"signup-btn",3,"disabled"],["class","error-container",4,"ngIf"],[1,"other-auth-options-row"],["fill","clear",1,"login-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["expand","block","color","facebook",1,"social-auth-btn","facebook-auth-btn",3,"click"],["expand","block","color","google",1,"social-auth-btn","google-auth-btn",3,"click"],["expand","block","color","twitter",1,"social-auth-btn","twitter-auth-btn",3,"click"],["expand","block","color","dark",1,"social-auth-btn","apple-auth-btn",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA()()(),n.TgZ(4,"ion-content",3)(5,"h2",4),n._uU(6," Sign Up with Firebase "),n.qZA(),n.TgZ(7,"form",5),n.NdJ("ngSubmit",function(){return i.signUpWithEmail()}),n.TgZ(8,"ion-list",6)(9,"ion-item",7),n._UZ(10,"ion-input",8),n.qZA(),n.TgZ(11,"div",9),n.YNc(12,Z,2,1,"ng-container",10),n.qZA(),n.TgZ(13,"div",11)(14,"ion-item",7)(15,"app-show-hide-password"),n._UZ(16,"ion-input",12),n.qZA()(),n.TgZ(17,"div",9),n.YNc(18,T,2,1,"ng-container",10),n.qZA(),n.TgZ(19,"ion-item",7)(20,"app-show-hide-password"),n._UZ(21,"ion-input",13),n.qZA()(),n.TgZ(22,"div",9),n.YNc(23,F,2,1,"ng-container",10),n.qZA()(),n.TgZ(24,"div",9),n.YNc(25,O,2,1,"ng-container",10),n.qZA()(),n.TgZ(26,"ion-button",14),n._uU(27,"Sign Up"),n.qZA(),n.YNc(28,x,5,1,"div",15),n.TgZ(29,"ion-row",16)(30,"ion-button",17),n._uU(31," Already have an account? "),n.qZA()()(),n.TgZ(32,"div",18)(33,"p",19),n._uU(34,"Or"),n.qZA(),n.TgZ(35,"ion-button",20),n.NdJ("click",function(){return i.doFacebookSignup()}),n._uU(36,"Sign Up with Facebook"),n.qZA(),n.TgZ(37,"ion-button",21),n.NdJ("click",function(){return i.doGoogleSignup()}),n._uU(38,"Sign Up with Google"),n.qZA(),n.TgZ(39,"ion-button",22),n.NdJ("click",function(){return i.doTwitterSignup()}),n._uU(40,"Sign Up with Twitter"),n.qZA(),n.TgZ(41,"ion-button",23),n.NdJ("click",function(){return i.doAppleSignup()}),n._uU(42,"Log In with Apple"),n.qZA()()()),2&e&&(n.xp6(7),n.Q6J("formGroup",i.signupForm),n.xp6(5),n.Q6J("ngForOf",i.validation_messages.email),n.xp6(6),n.Q6J("ngForOf",i.validation_messages.password),n.xp6(5),n.Q6J("ngForOf",i.validation_messages.confirm_password),n.xp6(2),n.Q6J("ngForOf",i.validation_messages.matching_passwords),n.xp6(1),n.Q6J("disabled",!i.signupForm.valid),n.xp6(2),n.Q6J("ngIf",i.submitError),n.xp6(2),n.Q6J("routerLink",n.DdM(8,A)))},dependencies:[l.sg,l.O5,r._Y,r.JJ,r.JL,r.sg,r.u,r.x0,a.oU,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.pK,a.Ie,a.q_,a.Nd,a.sr,a.j9,a.cs,a.YI,d.rH,P.q],styles:["[_nghost-%COMP%]{--page-margin: var(--app-broad-margin);--page-background: var(--app-background-shade)}ion-toolbar[_ngcontent-%COMP%]{--background: var(--page-background)}.signup-content[_ngcontent-%COMP%]{--background: var(--page-background);--padding-start: var(--page-margin);--padding-end: var(--page-margin);--padding-top: var(--page-margin);--padding-bottom: var(--page-margin)}.signup-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * 1.5);letter-spacing:.6px}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background: var(--page-background)}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px;--inner-padding-end: 0px}.signup-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0px;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.signup-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.signup-content[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0px}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{--color: var(--ion-color-secondary);margin:0}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:focus{outline:none}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0px;text-align:center}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}"]});var C=s(3678);const k=[{path:"",component:u,...(0,_.nW)(t=>(0,h.U)(e=>!(null!==e&&!t.queryParams["auth-redirect"])||["firebase/auth/profile"]))}];class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[l.ez,r.u5,r.UX,a.Pc,d.Bz.forChild(k),C.K]})}}]);