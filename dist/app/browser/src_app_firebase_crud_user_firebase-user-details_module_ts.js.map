{"version":3,"file":"src_app_firebase_crud_user_firebase-user-details_module_ts.js","mappings":"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","sources":["./src/app/firebase/crud/user/details/firebase-user-details.page.ts","./src/app/firebase/crud/user/details/firebase-user-details.page.html","./src/app/firebase/crud/user/firebase-user-details.module.ts","./src/app/firebase/crud/user/firebase-user-details.resolver.ts","./src/app/firebase/crud/user/update/firebase-update-user.modal.ts","./src/app/firebase/crud/user/update/firebase-update-user.modal.html"],"sourcesContent":["import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ModalController, IonRouterOutlet } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { FirebaseCombinedUserModel } from '../firebase-user.model';\nimport { FirebaseListingItemModel } from '../../listing/firebase-listing.model';\nimport { FirebaseUpdateUserModalComponent } from '../update/firebase-update-user.modal';\n\nimport { DataStore, ShellModel } from '../../../../shell/data-store';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-firebase-user-details',\n  templateUrl: './firebase-user-details.page.html',\n  styleUrls: [\n    './styles/firebase-user-details.page.scss',\n    './styles/firebase-user-details.shell.scss'\n  ],\n})\nexport class FirebaseUserDetailsPage implements OnInit {\n  user: FirebaseCombinedUserModel;\n  // Use Typescript intersection types to enable docorating the Array of firebase models with a shell model\n  // (ref: https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)\n  relatedUsers: Array<FirebaseListingItemModel> & ShellModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return ((this.user && this.user.isShell) || (this.relatedUsers && this.relatedUsers.isShell)) ? true : false;\n  }\n\n  constructor(\n    public firebaseCrudService: FirebaseCrudService,\n    public modalController: ModalController,\n    public router: Router,\n    private route: ActivatedRoute,\n    private routerOutlet: IonRouterOutlet\n  ) { }\n\n  ngOnInit() {\n\n    this.route.data\n    .pipe(\n      map((resolvedRouteData) => {\n        const resolvedDataStores = resolvedRouteData['data'];\n        const combinedDataStore: DataStore<FirebaseCombinedUserModel> = resolvedDataStores.user;\n        const relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>> = resolvedDataStores.relatedUsers;\n\n        combinedDataStore.state.subscribe(\n          (state) => this.user = state\n        );\n\n        relatedUsersDataStore.state.subscribe(\n          (state) => this.relatedUsers = state\n        );\n      })\n    ).subscribe();\n  }\n\n  async openFirebaseUpdateModal() {\n    const modal = await this.modalController.create({\n      id: 'updateModal',\n      component: FirebaseUpdateUserModalComponent,\n      componentProps: {\n        'user': this.user,\n        'modalId': 'updateModal'\n      },\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n\n    await modal.present();\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"firebase/crud/listing\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>User Details</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"openFirebaseUpdateModal()\">\n        Edit\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"user-content\">\n  <ion-row class=\"user-info-row\">\n    <ion-col class=\"user-image-col\" size=\"5\">\n      <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n        <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"user?.avatar\" [alt]=\"'item image'\">\n        </app-image-shell>\n      </app-aspect-ratio>\n    </ion-col>\n    <ion-col class=\"user-details-col\" size=\"12\">\n      <h2 class=\"user-name\">\n        <app-text-shell animation=\"bouncing\" [data]=\"user?.name?.concat(' ').concat(user?.lastname)\"></app-text-shell>\n      </h2>\n      <span class=\"user-age\">\n        <app-text-shell animation=\"bouncing\" [data]=\"user?.age?.toString().concat(' years young')\"></app-text-shell>\n      </span>\n    </ion-col>\n    <ion-col class=\"actions-col\" size=\"12\">\n      <ion-row>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"mail\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"call\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"videocam\"></ion-icon>\n          </ion-button>\n        </ion-col>\n        <ion-col size=\"3\">\n          <ion-button class=\"action-btn\" color=\"secondary\">\n            <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"text\"></ion-icon>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-col>\n  </ion-row>\n\n  <section class=\"content-section user-languages-wrapper\">\n    <h5 class=\"section-header\">Languages</h5>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">English</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user?.languages?.english / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">Spanish</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user?.languages?.spanish / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"language-item-row\">\n      <ion-col class=\"language-item\">\n        <span class=\"language-name\">French</span>\n        <ion-progress-bar class=\"language-score\" type=\"determinate\" [value]=\"(user?.languages?.french / 10)\"></ion-progress-bar>\n      </ion-col>\n    </ion-row>\n  </section>\n\n  <section class=\"content-section user-experience-wrapper\">\n    <h5 class=\"section-header\">Skills</h5>\n    <ion-list class=\"experience-list\" lines=\"none\">\n      <ion-item class=\"experience-item\" *ngFor=\"let skill of user?.skills\">\n        <label class=\"experience-label\">\n          <app-text-shell animation=\"bouncing\" [data]=\"skill?.name\"></app-text-shell>\n        </label>\n        <ion-icon class=\"experience-list-icon\" slot=\"start\" name=\"checkmark\" color=\"secondary\"></ion-icon>\n      </ion-item>\n    </ion-list>\n  </section>\n\n  <section class=\"content-section related-users-wrapper\" *ngIf=\"relatedUsers?.length > 0\">\n    <h5 class=\"section-header\">Users with similar skills</h5>\n    <ion-row class=\"related-users-row\">\n      <ion-col class=\"related-user-item\" *ngFor=\"let user of relatedUsers\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [display]=\"'cover'\" class=\"related-user-picture\" [src]=\"user.avatar\" [routerLink]=\"['/firebase/crud/details', user.id]\"></app-image-shell>\n        </app-aspect-ratio>\n        <span class=\"related-user-name\">\n          <app-text-shell [data]=\"user.name\"></app-text-shell>\n        </span>\n      </ion-col>\n    </ion-row>\n  </section>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { FirebaseUserDetailsPage } from './details/firebase-user-details.page';\nimport { FirebaseUserDetailsResolver } from './firebase-user-details.resolver';\nimport { FirebaseUpdateUserModalComponent } from './update/firebase-update-user.modal';\nimport { FirebaseCrudService } from '../firebase-crud.service';\nimport { FirebaseCrudSharedModule } from '../firebase-crud-shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FirebaseUserDetailsPage,\n    resolve: {\n      data: FirebaseUserDetailsResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    FirebaseCrudSharedModule\n  ],\n  declarations: [\n    FirebaseUserDetailsPage,\n    FirebaseUpdateUserModalComponent\n  ],\n  providers: [\n    FirebaseCrudService,\n    FirebaseUserDetailsResolver\n  ]\n})\nexport class FirebaseUserDetailsPageModule {}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { FirebaseCombinedUserModel } from './firebase-user.model';\nimport { FirebaseListingItemModel } from '../listing/firebase-listing.model';\n\nimport { DataStore } from '../../../shell/data-store';\nimport { FirebaseCrudService } from '../firebase-crud.service';\n\n@Injectable()\nexport class FirebaseUserDetailsResolver implements Resolve<any> {\n\n  constructor(private firebaseCrudService: FirebaseCrudService) {}\n\n  resolve(route: ActivatedRouteSnapshot) {\n    const userId = route.paramMap.get('id');\n\n    // We created a FirebaseCombinedUserModel to combine the userData with the details of the userSkills (from the skills collection).\n    // They are 2 different collections and we need to combine them into 1 dataSource.\n\n    const combinedUserDataSource: Observable<FirebaseCombinedUserModel> = this.firebaseCrudService\n    .getCombinedUserDataSource(userId);\n\n    const combinedUserDataStore: DataStore<FirebaseCombinedUserModel> = this.firebaseCrudService\n    .getCombinedUserStore(combinedUserDataSource);\n\n\n    // The user details page has a section with related users, showing users with the same skills\n    // For this we created another datastore which depends on the combinedUser data store\n    // The DataStore subscribes to the DataSource, to avoid creating two subscribers to the combinedUserDataSource,\n    // use the combinedUserDataStore timeline instead. (The timeline is a Subject, and is intended to have many subscribers)\n    // Using, and thus subscribing to the timeline won't trigger two requests to the firebase endpoint\n    const relatedUsersDataSource: Observable<Array<FirebaseListingItemModel>> = this.firebaseCrudService\n    .getRelatedUsersDataSource(combinedUserDataStore.state, userId);\n\n    const relatedUsersDataStore: DataStore<Array<FirebaseListingItemModel>> = this.firebaseCrudService\n    .getRelatedUsersStore(relatedUsersDataSource);\n\n    return {user: combinedUserDataStore, relatedUsers: relatedUsersDataStore};\n  }\n}\n","import { Component, OnInit, Input, NgZone } from '@angular/core';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { Validators, UntypedFormGroup, UntypedFormControl, UntypedFormArray } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport * as dayjs from 'dayjs';\n\nimport { format, parseISO } from 'date-fns';\n\nimport { CheckboxCheckedValidator } from '../../../../validators/checkbox-checked.validator';\n\nimport { FirebaseUserModel } from '../firebase-user.model';\nimport { SelectUserImageModalComponent } from '../select-image/select-user-image.modal';\nimport { FirebaseCrudService } from '../../firebase-crud.service';\n\n@Component({\n  selector: 'app-firebase-update-user',\n  templateUrl: './firebase-update-user.modal.html',\n  styleUrls: [\n    './styles/firebase-update-user.modal.scss',\n    './styles/firebase-update-user.shell.scss'\n  ],\n})\nexport class FirebaseUpdateUserModalComponent implements OnInit {\n  // \"user\" is passed in firebase-details.page\n  @Input() user: FirebaseUserModel;\n  // \"modalId\" is passed in firebase-details.page.\n  // We use it to for the dismiss function\n  @Input() modalId: string;\n\n  updateUserForm: UntypedFormGroup;\n  selectedAvatar: string;\n  skills = [];\n  formattedDate?: string;\n\n  constructor(\n    private modalController: ModalController,\n    public alertController: AlertController,\n    public firebaseCrudService: FirebaseCrudService,\n    public router: Router,\n    private ngZone: NgZone\n  ) { }\n\n  ngOnInit() {\n    this.selectedAvatar = this.user.avatar;\n\n    this.updateUserForm = new UntypedFormGroup({\n      name: new UntypedFormControl(this.user.name, Validators.required),\n      lastname: new UntypedFormControl(this.user.lastname, Validators.required),\n      email: new UntypedFormControl(this.user.email, Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      phone: new UntypedFormControl(this.user.phone, Validators.required),\n      birthdate: new UntypedFormControl(dayjs.unix(this.user.birthdate).format(), Validators.required),\n      skills: new UntypedFormArray([], CheckboxCheckedValidator.minSelectedCheckboxes(1)),\n      spanish: new UntypedFormControl(this.user.languages.spanish),\n      english: new UntypedFormControl(this.user.languages.english),\n      french: new UntypedFormControl(this.user.languages.french)\n    });\n\n    this.formatDate();\n\n    this.firebaseCrudService.getSkills().subscribe(skills => {\n      this.skills = skills;\n      // create skill checkboxes\n      this.skills.map((skill) => {\n        let userSkillsIds = [];\n        if (this.user.skills) {\n          userSkillsIds = this.user.skills.map(function(skillId) {\n            return skillId['id'];\n          });\n        }\n        // set the control value to 'true' if the user already has this skill\n        const control = new UntypedFormControl(userSkillsIds.includes(skill.id));\n        (this.updateUserForm.controls.skills as UntypedFormArray).push(control);\n      });\n    });\n  }\n\n  formatDate() {\n    this.formattedDate = format(parseISO(this.updateUserForm.value.birthdate), 'MMM d, yyyy');\n  }\n\n  get skillsFormArray() { return <UntypedFormArray>this.updateUserForm.get('skills'); }\n\n  changeLangValue(value): string {\n    switch (true) {\n      case (value <= 3 ):\n        return 'Novice';\n      case (value > 3 && value <= 6 ):\n        return 'Competent';\n      case (value > 6 ):\n        return 'Expert';\n    }\n  }\n\n  dismissModal() {\n    this.modalController.dismiss(undefined, undefined, this.modalId);\n  }\n\n  async deleteUser() {\n    const alert = await this.alertController.create({\n      header: 'Confirm',\n      message: 'Do you want to delete ' + this.user.name + '?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {}\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            this.firebaseCrudService.deleteUser(this.user.id)\n            .then(\n              () => {\n                this.dismissModal();\n                this.ngZone.run(() => this.router.navigate(['firebase/crud/listing'])).then();\n              },\n              err => console.log(err)\n            );\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  updateUser() {\n    this.user.avatar = this.selectedAvatar;\n    this.user.name = this.updateUserForm.value.name;\n    this.user.lastname = this.updateUserForm.value.lastname;\n    this.user.birthdate = dayjs(this.updateUserForm.value.birthdate).unix(); // save it in timestamp\n    this.user.phone = this.updateUserForm.value.phone;\n    this.user.email = this.updateUserForm.value.email;\n    this.user.languages.spanish = this.updateUserForm.value.spanish;\n    this.user.languages.english = this.updateUserForm.value.english;\n    this.user.languages.french = this.updateUserForm.value.french;\n\n    // get the ids of the selected skills\n    const selectedSkills = [];\n\n    this.updateUserForm.value.skills\n    .map((value: any, index: number) => {\n      if (value) {\n        selectedSkills.push(this.skills[index].id);\n      }\n    });\n    this.user.skills = selectedSkills;\n\n    const {age, ...userData} = this.user; // we don't want to save the age in the DB because is something that changes over time\n\n    this.firebaseCrudService.updateUser(userData)\n    .then(\n      () => this.dismissModal(),\n      err => console.log(err)\n    );\n  }\n\n  async changeUserImage() {\n    const modal = await this.modalController.create({\n      component: SelectUserImageModalComponent,\n      swipeToClose: true,\n      presentingElement: await this.modalController.getTop()\n    });\n\n    modal.onDidDismiss().then(avatar => {\n      if (avatar.data != null) {\n        this.selectedAvatar = avatar.data.link;\n      }\n    });\n    await modal.present();\n  }\n}\n","<!-- This is the proper way if you have submit button outside your ion-content form (typically in the ion-header or ion-footer) -->\n<!-- (ref: https://github.com/ionic-team/ionic/issues/16661) -->\n<form class=\"update-user-form ion-page\" [formGroup]=\"updateUserForm\" (ngSubmit)=\"updateUser()\">\n  <ion-header>\n    <ion-toolbar color=\"primary\">\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismissModal()\">\n          <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n      <ion-title>Update User</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-content class=\"update-user-content\">\n    <ion-row class=\"select-user-image-row\">\n      <ion-col class=\"user-image-col\" size=\"5\">\n        <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n          <app-image-shell [display]=\"'cover'\" class=\"user-image\" animation=\"spinner\" [src]=\"selectedAvatar\" [alt]=\"'user image'\"></app-image-shell>\n        </app-aspect-ratio>\n        <ion-button class=\"change-image-btn\" color=\"secondary\" (click)=\"changeUserImage()\">\n          <ion-icon class=\"btn-icon\" slot=\"icon-only\" name=\"camera\"></ion-icon>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n\n    <section class=\"user-details-fields fields-section\">\n      <ion-list class=\"inputs-list\" lines=\"full\">\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Name</ion-label>\n          <ion-input type=\"text\" formControlName=\"name\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Last name</ion-label>\n          <ion-input type=\"text\" formControlName=\"lastname\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item birthdate-item\" [button]=\"true\" id=\"open-datetime\" id=\"open-birthdate-modal\">\n          <ion-label color=\"secondary\" position=\"stacked\">Date of Birth</ion-label>\n          <ion-text class=\"placeholder\" *ngIf=\"!formattedDate\">Select a date</ion-text>\n          <ion-text *ngIf=\"formattedDate\">{{ formattedDate }}</ion-text>\n          <ion-modal trigger=\"open-birthdate-modal\" class=\"datetime-modal\">\n            <ng-template>\n              <ion-content>\n                <ion-datetime\n                formControlName=\"birthdate\"\n                presentation=\"date\"\n                (ionChange)=\"formatDate()\"\n                [showDefaultButtons]=\"true\">\n              </ion-datetime>\n              </ion-content>\n            </ng-template>\n          </ion-modal>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Phone number</ion-label>\n          <ion-input type=\"tel\" formControlName=\"phone\" required></ion-input>\n        </ion-item>\n        <ion-item class=\"input-item\">\n          <ion-label color=\"secondary\" position=\"floating\">Email</ion-label>\n          <ion-input type=\"email\" formControlName=\"email\" required></ion-input>\n        </ion-item>\n      </ion-list>\n    </section>\n\n    <section class=\"user-experience-fields fields-section\">\n      <h5 class=\"section-header\">Experience in</h5>\n      <ion-row class=\"checkbox-tags rounded-checkbox-tags\">\n        <ion-item formArrayName=\"skills\" lines=\"none\" class=\"checkbox-tag rounded-tag\" *ngFor=\"let skill of skillsFormArray.controls; let i = index;\">\n          <ion-label class=\"tag-label\">{{skills[i].name}}</ion-label>\n          <ion-checkbox [formControlName]=\"i\"></ion-checkbox>\n        </ion-item>\n      </ion-row>\n    </section>\n\n    <section class=\"user-languages-fields fields-section\">\n      <h5 class=\"section-header\">Languages</h5>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">English</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.english.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"english\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">Spanish</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.spanish.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"spanish\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"range-item-row\">\n        <ion-col size=\"12\">\n          <div class=\"range-header\">\n            <span class=\"range-label\">French</span>\n            <span class=\"range-value\">{{ changeLangValue(updateUserForm.controls.french.value) }}</span>\n          </div>\n        </ion-col>\n        <ion-col size=\"12\">\n          <ion-range class=\"range-control\" formControlName=\"french\" color=\"secondary\" min=\"1\" max=\"10\" step=\"1\"></ion-range>\n        </ion-col>\n      </ion-row>\n    </section>\n  </ion-content>\n\n  <ion-footer>\n    <ion-row class=\"form-actions-wrapper\">\n      <ion-col>\n        <ion-button class=\"delete-btn\" expand=\"block\" color=\"primary\" fill=\"outline\" (click)=\"deleteUser()\">DELETE</ion-button>\n      </ion-col>\n      <ion-col>\n        <ion-button class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\" [disabled]=\"!updateUserForm.valid\">UPDATE</ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n</form>\n"],"names":["ModalController","IonRouterOutlet","ActivatedRoute","Router","FirebaseUpdateUserModalComponent","FirebaseCrudService","map","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","skill_r2","name","ɵɵpureFunction0","_c0","user_r4","avatar","ɵɵpureFunction1","_c1","id","ɵɵtext","ɵɵtemplate","FirebaseUserDetailsPage_section_56_ion_col_4_Template","ctx_r1","relatedUsers","FirebaseUserDetailsPage","constructor","firebaseCrudService","modalController","router","route","routerOutlet","isShell","user","ngOnInit","data","pipe","resolvedRouteData","resolvedDataStores","combinedDataStore","relatedUsersDataStore","state","subscribe","openFirebaseUpdateModal","_this","_asyncToGenerator","modal","create","component","componentProps","swipeToClose","presentingElement","nativeEl","present","_","ɵɵdirectiveInject","i1","i2","i3","_2","selectors","hostVars","hostBindings","FirebaseUserDetailsPage_HostBindings","rf","ctx","ɵɵlistener","FirebaseUserDetailsPage_Template_ion_button_click_7_listener","FirebaseUserDetailsPage_ion_item_55_Template","FirebaseUserDetailsPage_section_56_Template","concat","lastname","age","toString","languages","english","spanish","french","skills","length","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","IonicModule","ComponentsModule","FirebaseUserDetailsResolver","FirebaseCrudSharedModule","routes","path","resolve","FirebaseUserDetailsPageModule","_3","imports","forChild","declarations","ActivatedRouteSnapshot","userId","paramMap","get","combinedUserDataSource","getCombinedUserDataSource","combinedUserDataStore","getCombinedUserStore","relatedUsersDataSource","getRelatedUsersDataSource","getRelatedUsersStore","ɵɵinject","factory","ɵfac","NgZone","AlertController","Validators","UntypedFormGroup","UntypedFormControl","UntypedFormArray","dayjs","format","parseISO","CheckboxCheckedValidator","FirebaseUserModel","SelectUserImageModalComponent","ɵɵtextInterpolate","formattedDate","FirebaseUpdateUserModalComponent_ng_template_31_Template_ion_datetime_ionChange_1_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","formatDate","ctx_r3","i_r7","alertController","ngZone","selectedAvatar","updateUserForm","required","email","compose","pattern","phone","birthdate","unix","minSelectedCheckboxes","getSkills","skill","userSkillsIds","skillId","control","includes","controls","push","value","skillsFormArray","changeLangValue","dismissModal","dismiss","undefined","modalId","deleteUser","alert","header","message","buttons","text","role","handler","then","run","navigate","err","console","log","updateUser","selectedSkills","index","userData","changeUserImage","_this2","getTop","onDidDismiss","link","inputs","decls","vars","consts","template","FirebaseUpdateUserModalComponent_Template","FirebaseUpdateUserModalComponent_Template_form_ngSubmit_0_listener","FirebaseUpdateUserModalComponent_Template_ion_button_click_4_listener","FirebaseUpdateUserModalComponent_Template_ion_button_click_13_listener","FirebaseUpdateUserModalComponent_ion_text_28_Template","FirebaseUpdateUserModalComponent_ion_text_29_Template","FirebaseUpdateUserModalComponent_ng_template_31_Template","FirebaseUpdateUserModalComponent_ion_item_44_Template","FirebaseUpdateUserModalComponent_Template_ion_button_click_78_listener","valid"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}