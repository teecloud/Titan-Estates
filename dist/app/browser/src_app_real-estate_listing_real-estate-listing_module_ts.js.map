{"version":3,"file":"src_app_real-estate_listing_real-estate-listing_module_ts.js","mappings":"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","sources":["./src/app/real-estate/listing/real-estate-listing.module.ts","./src/app/real-estate/listing/real-estate-listing.page.ts","./src/app/real-estate/listing/real-estate-listing.page.html","./src/app/real-estate/listing/real-estate-listing.resolver.ts","./src/app/shell/data-store.ts","./src/app/utils/resolver-helper.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\n\nimport { RealEstateService } from '../real-estate.service';\nimport { RealEstateListingPage } from './real-estate-listing.page';\nimport { RealEstateListingResolver } from './real-estate-listing.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RealEstateListingPage,\n    resolve: {\n      data: RealEstateListingResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [\n    RealEstateListingPage\n  ],\n  providers: [\n    RealEstateListingResolver,\n    RealEstateService\n  ]\n})\nexport class RealEstateListingPageModule {}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { RealEstateItemModel, RealEstateListingModel } from './real-estate-listing.model';\nimport { switchMap } from 'rxjs/operators';\nimport { ResolverHelper, IResolvedRouteData } from '../../utils/resolver-helper';\n\n@Component({\n  selector: 'app-real-estate-listing',\n  templateUrl: './real-estate-listing.page.html',\n  styleUrls: [\n    './styles/real-estate-listing.page.scss',\n    './styles/real-estate-listing.shell.scss'\n  ]\n})\nexport class RealEstateListingPage implements OnInit {\n  listing: RealEstateListingModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.listing && this.listing.isShell) ? true : false;\n  }\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.data\n    .pipe(\n      // Extract data for this page\n      switchMap((resolvedRouteData: IResolvedRouteData<RealEstateListingModel>) => {\n        return ResolverHelper.extractData<RealEstateListingModel>(resolvedRouteData.data, RealEstateListingModel);\n      })\n    )\n    .subscribe({\n      next: (state) => {\n        this.listing = state;\n      },\n      error: (error) => console.log(error)\n    });\n  }\n\n  likeClicked(item: RealEstateItemModel){\n    item.liked = !item.liked\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Real Estate Listing</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"real-estate-listing-content\">\n  <div class=\"listing-item\" *ngFor=\"let item of listing?.items\">\n    <ion-row class=\"image-row\">\n      <ion-col size=\"12\">\n        <a class=\"image-anchor\" [routerLink]=\"['/app/categories/real-estate/', item.slug]\">\n          <app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"item-picture\" [src]=\"item.picture\">\n            <app-aspect-ratio [ratio]=\"{w:365, h:125}\">\n            </app-aspect-ratio>\n          </app-image-shell>\n        </a>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"description-row\">\n      <ion-col size=\"12\" class=\"details-col\">\n        <ion-row class=\"details-wrapper\">\n          <ion-col>\n            <h4 class=\"item-price\">\n              <span class=\"price-icon\">$</span>\n              <app-text-shell [data]=\"item.price\"></app-text-shell>\n            </h4>\n            <p class=\"item-address\">\n              <app-text-shell [data]=\"item.address\"></app-text-shell>\n            </p>\n          </ion-col>\n          <ion-col class=\"bookmark-col\" size=\"2\">\n           <ion-button fill=\"clear\" (click)=\"likeClicked(item)\" >\n            <ion-icon *ngIf=\"item.liked\" class=\"like-icon\" name=\"heart\"></ion-icon>\n            <ion-icon *ngIf=\"!item.liked\" class=\"like-icon\" name=\"heart-outline\"></ion-icon>\n           </ion-button>\n  \n           \n            \n          </ion-col>\n        </ion-row>\n      </ion-col>\n\n      <ion-col class=\"accommodations-col\" size=\"12\">\n        <ion-row class=\"accommodations-wrapper\">\n          <ion-col class=\"item-accommodation\">\n            <ion-icon class=\"accommodation-icon\" src=\"./assets/custom-icons/real-estate/guests.svg\"></ion-icon>\n            <span class=\"accommodation-property\">Guests</span>\n            <span class=\"accommodation-value\">\n              <app-text-shell [data]=\"item.accommodations?.guests\"></app-text-shell>\n            </span>\n          </ion-col>\n          <ion-col class=\"item-accommodation\">\n            <ion-icon class=\"accommodation-icon\" src=\"./assets/custom-icons/real-estate/bedrooms.svg\"></ion-icon>\n            <span class=\"accommodation-property\">Bedrooms</span>\n            <span class=\"accommodation-value\">\n              <app-text-shell [data]=\"item.accommodations?.bedrooms\"></app-text-shell>\n            </span>\n          </ion-col>\n          <ion-col class=\"item-accommodation\">\n            <ion-icon class=\"accommodation-icon\" src=\"./assets/custom-icons/real-estate/bathroom.svg\"></ion-icon>\n            <span class=\"accommodation-property\">Bathrooms</span>\n            <span class=\"accommodation-value\">\n              <app-text-shell [data]=\"item.accommodations?.bathrooms\"></app-text-shell>\n            </span>\n          </ion-col>\n          <ion-col class=\"item-accommodation\">\n            <ion-icon class=\"accommodation-icon\" src=\"./assets/custom-icons/real-estate/patio.svg\"></ion-icon>\n            <span class=\"accommodation-property\">Patios</span>\n            <span class=\"accommodation-value\">\n              <app-text-shell [data]=\"item.accommodations?.patios\"></app-text-shell>\n            </span>\n          </ion-col>\n        </ion-row>\n      </ion-col>\n\n      <ion-col size=\"12\" class=\"amenities-col\" *ngIf=\"item.amenities\">\n        <h5 class=\"amenities-title\">Amenities</h5>\n        <ion-row class=\"amenities-wrapper\">\n          <ng-container>\n            <ion-col class=\"item-amenity\" size=\"4\" *ngFor=\"let amenity of item.amenities.slice(0, 4); let i = index\">\n              <ion-icon *ngIf=\"amenity.icon\" class=\"amenity-icon\" [src]=\"amenity.icon\"></ion-icon>\n              <span class=\"amenity-value\">\n                <app-text-shell [data]=\"amenity.name\"></app-text-shell>\n              </span>\n            </ion-col>\n            <ion-col class=\"has-more-amenities\" *ngIf=\"i === 3 && item.amenities.length > 4\">\n              <span class=\"amenities-count\">+{{ item.amenities.length - 4 }}</span>\n            </ion-col>\n          </ng-container>\n        </ion-row>\n      </ion-col>\n    </ion-row>\n  </div>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { RealEstateService } from '../real-estate.service';\nimport { RealEstateListingModel } from './real-estate-listing.model';\n\n@Injectable()\nexport class RealEstateListingResolver implements Resolve<DataStore<RealEstateListingModel>> {\n\n  constructor(private realEstateService: RealEstateService) {}\n\n  resolve(): DataStore<RealEstateListingModel> {\n    const dataSource: Observable<RealEstateListingModel> = this.realEstateService.getListingDataSource();\n    const dataStore: DataStore<RealEstateListingModel> = this.realEstateService.getListingStore(dataSource);\n\n    return dataStore;\n  }\n}\n","import { Observable, of, combineLatest, ReplaySubject } from 'rxjs';\nimport { delay, map, startWith } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\n\nexport class ShellModel {\n  isShell = false;\n}\n\nexport class DataStore<T> {\n  // We wait on purpose 2 secs on local environment when fetching from json to simulate the backend roundtrip.\n  // However, in production you should set this delay to 0 in the environment.prod file.\n  // eslint-disable-next-line max-len\n  private networkDelay = (environment.appShellConfig && environment.appShellConfig.networkDelay) ? environment.appShellConfig.networkDelay : 0;\n\n  private timeline: ReplaySubject<T & ShellModel> = new ReplaySubject(1);\n\n  constructor(private shellModel: T) { }\n\n  // Static function with generics\n  // (ref: https://stackoverflow.com/a/24293088/1116959)\n  // Append a shell (T & ShellModel) to every value (T) emmited to the timeline\n  public static AppendShell<T>(dataObservable: Observable<T>, shellModel: T, networkDelay = 400): Observable<T & ShellModel> {\n    const delayObservable = of(true).pipe(\n      delay(networkDelay)\n    );\n\n    // Assign shell flag accordingly\n    // (ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n    return combineLatest([\n      delayObservable,\n      dataObservable\n    ]).pipe(\n      // Dismiss unnecessary delayValue\n      map(([delayValue, dataValue]: [boolean, T]): (T & ShellModel) => Object.assign(dataValue, {isShell: false})),\n      // Set the shell model as the initial value\n      startWith(Object.assign(shellModel, {isShell: true}))\n    );\n  }\n\n  load(dataSourceObservable: Observable<T>, networkDelay?: number): void {\n    // eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n    const delay = (typeof networkDelay === 'number') ? networkDelay : this.networkDelay;\n\n    let processedDataSource: Observable<any>;\n\n    // If no network delay, then don't show shell\n    if (delay === 0) {\n      processedDataSource = dataSourceObservable;\n    } else {\n      processedDataSource = DataStore.AppendShell(dataSourceObservable, this.shellModel, delay);\n    }\n\n    processedDataSource\n    .subscribe((dataValue: T & ShellModel) => {\n      this.timeline.next(dataValue);\n    });\n  }\n\n  public get state(): Observable<T & ShellModel> {\n    return this.timeline.asObservable();\n  }\n}\n","import { DataStore } from '../shell/data-store';\nimport { Observable, of } from 'rxjs';\n\nexport interface IResolvedRouteData<T> {\n  data: T | DataStore<T>;\n}\n\nexport class ResolverHelper<T> {\n  // More info on function overloads here: https://www.typescriptlang.org/docs/handbook/functions.html#overloads\n  public static extractData<T>(source: (T | DataStore<T>), constructor: (new(...args: any[]) => T)): Observable<T> {\n    if (source instanceof DataStore) {\n      return source.state;\n    } else if (source instanceof constructor) {\n      // The right side of instanceof should be an expression evaluating to a constructor function (ie. a class), not a type\n      // That's why we included an extra parameter which acts as a constructor function for type T\n      // (see: https://github.com/microsoft/TypeScript/issues/5236)\n      return of(source);\n    }\n  }\n}\n"],"names":["CommonModule","RouterModule","IonicModule","ComponentsModule","RealEstateService","RealEstateListingPage","RealEstateListingResolver","routes","path","component","resolve","data","RealEstateListingPageModule","_","_2","_3","imports","forChild","declarations","i1","ActivatedRoute","RealEstateListingModel","switchMap","ResolverHelper","i0","ɵɵelement","ɵɵproperty","amenity_r7","icon","ɵɵelementStart","ɵɵtemplate","RealEstateListingPage_div_7_ion_col_46_ion_col_5_ion_icon_1_Template","ɵɵelementEnd","ɵɵadvance","name","ɵɵtext","ɵɵtextInterpolate1","item_r1","amenities","length","ɵɵelementContainerStart","RealEstateListingPage_div_7_ion_col_46_ion_col_5_Template","RealEstateListingPage_div_7_ion_col_46_ion_col_6_Template","ɵɵelementContainerEnd","slice","ctx_r4","i","ɵɵlistener","RealEstateListingPage_div_7_Template_ion_button_click_17_listener","restoredCtx","ɵɵrestoreView","_r14","$implicit","ctx_r13","ɵɵnextContext","ɵɵresetView","likeClicked","RealEstateListingPage_div_7_ion_icon_18_Template","RealEstateListingPage_div_7_ion_icon_19_Template","RealEstateListingPage_div_7_ion_col_46_Template","ɵɵpureFunction1","_c0","slug","picture","ɵɵpureFunction0","_c1","price","address","liked","accommodations","guests","bedrooms","bathrooms","patios","constructor","route","isShell","listing","ngOnInit","pipe","resolvedRouteData","extractData","subscribe","next","state","error","console","log","item","ɵɵdirectiveInject","selectors","hostVars","hostBindings","RealEstateListingPage_HostBindings","rf","ctx","RealEstateListingPage_div_7_Template","items","realEstateService","dataSource","getListingDataSource","dataStore","getListingStore","ɵɵinject","factory","ɵfac","of","combineLatest","ReplaySubject","delay","map","startWith","environment","ShellModel","DataStore","shellModel","networkDelay","appShellConfig","timeline","AppendShell","dataObservable","delayObservable","delayValue","dataValue","Object","assign","load","dataSourceObservable","processedDataSource","asObservable","source"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}