"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9771],{9760:(L,D,l)=>{l.d(D,{K:()=>V,n:()=>R});var p=l(4707),x=l(9646),g=l(9841),t=l(1005),I=l(4004),O=l(8675),_=l(2340);class R{constructor(){this.isShell=!1}}class V{constructor(f){this.shellModel=f,this.networkDelay=_.N.appShellConfig&&_.N.appShellConfig.networkDelay?_.N.appShellConfig.networkDelay:0,this.timeline=new p.t(1)}static AppendShell(f,r,P=400){const v=(0,x.of)(!0).pipe((0,t.g)(P));return(0,g.a)([v,f]).pipe((0,I.U)(([M,F])=>Object.assign(F,{isShell:!1})),(0,O.O)(Object.assign(r,{isShell:!0})))}load(f,r){const P="number"==typeof r?r:this.networkDelay;let v;v=0===P?f:V.AppendShell(f,this.shellModel,P),v.subscribe(M=>{this.timeline.next(M)})}get state(){return this.timeline.asObservable()}}},9771:(L,D,l)=>{l.r(D),l.d(D,{VideoPlaylistPageModule:()=>C});var p=l(9267),x=l(3893),g=l(6895),t=l(4650);const O=(0,l(7423).fo)("Share",{web:()=>l.e(7907).then(l.bind(l,7907)).then(i=>new i.ShareWeb)});var _=l(3900),R=l(9330),V=l(1408),N=l(4840),f=l(7579),r=l(4968),P=l(9751),v=l(9841),M=l(5963),F=l(4004);const Y=["*"];let h=(()=>{class i{}return i.VG_ENDED="ended",i.VG_PAUSED="paused",i.VG_PLAYING="playing",i.VG_LOADING="waiting",i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),d=(()=>{class i{constructor(){this.medias={},this.playerReadyEvent=new t.vpe(!0),this.isPlayerReady=!1}onPlayerReady(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}getDefaultMedia(){for(const e in this.medias)if(this.medias[e])return this.medias[e]}getMasterMedia(){let e;for(const s in this.medias)if("true"===this.medias[s].vgMaster||!0===this.medias[s].vgMaster){e=this.medias[s];break}return e||this.getDefaultMedia()}isMasterDefined(){let e=!1;for(const s in this.medias)if("true"===this.medias[s].vgMaster||!0===this.medias[s].vgMaster){e=!0;break}return e}getMediaById(e=null){let s=this.medias[e];return(!e||"*"===e)&&(s=this),s}play(){for(const e in this.medias)this.medias[e]&&this.medias[e].play()}pause(){for(const e in this.medias)this.medias[e]&&this.medias[e].pause()}get duration(){return this.$$getAllProperties("duration")}set currentTime(e){this.$$setAllProperties("currentTime",e)}get currentTime(){return this.$$getAllProperties("currentTime")}set state(e){this.$$setAllProperties("state",e)}get state(){return this.$$getAllProperties("state")}set volume(e){this.$$setAllProperties("volume",e)}get volume(){return this.$$getAllProperties("volume")}set playbackRate(e){this.$$setAllProperties("playbackRate",e)}get playbackRate(){return this.$$getAllProperties("playbackRate")}get canPlay(){return this.$$getAllProperties("canPlay")}get canPlayThrough(){return this.$$getAllProperties("canPlayThrough")}get isMetadataLoaded(){return this.$$getAllProperties("isMetadataLoaded")}get isWaiting(){return this.$$getAllProperties("isWaiting")}get isCompleted(){return this.$$getAllProperties("isCompleted")}get isLive(){return this.$$getAllProperties("isLive")}get isMaster(){return this.$$getAllProperties("isMaster")}get time(){return this.$$getAllProperties("time")}get buffer(){return this.$$getAllProperties("buffer")}get buffered(){return this.$$getAllProperties("buffered")}get subscriptions(){return this.$$getAllProperties("subscriptions")}get textTracks(){return this.$$getAllProperties("textTracks")}seekTime(e,s=!1){for(const o in this.medias)this.medias[o]&&this.$$seek(this.medias[o],e,s)}$$seek(e,s,o=!1){let a,c=e.duration;o?(this.isMasterDefined()&&(c=this.getMasterMedia().duration),a=s*c/100):a=s,e.currentTime=a}addTextTrack(e,s,o){for(const a in this.medias)this.medias[a]&&this.$$addTextTrack(this.medias[a],e,s,o)}$$addTextTrack(e,s,o,a){e.addTextTrack(s,o,a)}$$getAllProperties(e){const s={};let o;for(const c in this.medias)this.medias[c]&&(s[c]=this.medias[c]);switch(Object.keys(s).length){case 0:switch(e){case"state":o=h.VG_PAUSED;break;case"playbackRate":case"volume":o=1;break;case"time":o={current:0,total:0,left:0}}break;case 1:o=s[Object.keys(s)[0]][e];break;default:o=s[this.getMasterMedia().id][e]}return o}$$setAllProperties(e,s){for(const o in this.medias)this.medias[o]&&(this.medias[o][e]=s)}registerElement(e){this.videogularElement=e}registerMedia(e){this.medias[e.id]=e}unregisterMedia(e){delete this.medias[e.id]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),S=(()=>{class i{constructor(){this.isHiddenSubject=new f.x,this.isHidden=this.isHiddenSubject.asObservable()}state(e){this.isHiddenSubject.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),k=(()=>{class i{static getZIndex(){let s,e=1;const o=document.getElementsByTagName("*");for(let a=0,c=o.length;a<c;a++)s=parseInt(window.getComputedStyle(o[a])["z-index"],10),s>e&&(e=s+1);return e}static isMobileDevice(){return typeof window.orientation<"u"||-1!==navigator.userAgent.indexOf("IEMobile")}static isiOSDevice(){return(navigator.userAgent.match(/ip(hone|ad|od)/i)||i.isIpadOS())&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}static isIpadOS(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}static isCordova(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),w=(()=>{class i{constructor(){this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new t.vpe}init(e,s){this.videogularElement=e,this.medias=s;const o={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(const c in o)if(o[c].enabled in document){this.polyfill=o[c];break}if(k.isiOSDevice()&&(this.polyfill=o.ios),this.isAvailable=null!=this.polyfill,null==this.polyfill)return;let a;switch(this.polyfill.onchange){case"mozfullscreenchange":a=document;break;case"webkitendfullscreen":a=this.medias.toArray()[0].elem;break;default:a=e}this.fsChangeSubscription=(0,r.R)(a,this.polyfill.onchange).subscribe(()=>{this.onFullscreenChange()})}onFullscreenChange(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}toggleFullscreen(e=null){this.isFullscreen?this.exit():this.request(e)}request(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(k.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||k.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}enterElementInFullScreen(e){e[this.polyfill.request]()}exit(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),u=(()=>{class i{}return i.VG_ABORT="abort",i.VG_CAN_PLAY="canplay",i.VG_CAN_PLAY_THROUGH="canplaythrough",i.VG_DURATION_CHANGE="durationchange",i.VG_EMPTIED="emptied",i.VG_ENCRYPTED="encrypted",i.VG_ENDED="ended",i.VG_ERROR="error",i.VG_LOADED_DATA="loadeddata",i.VG_LOADED_METADATA="loadedmetadata",i.VG_LOAD_START="loadstart",i.VG_PAUSE="pause",i.VG_PLAY="play",i.VG_PLAYING="playing",i.VG_PROGRESS="progress",i.VG_RATE_CHANGE="ratechange",i.VG_SEEK="seek",i.VG_SEEKED="seeked",i.VG_SEEKING="seeking",i.VG_STALLED="stalled",i.VG_SUSPEND="suspend",i.VG_TIME_UPDATE="timeupdate",i.VG_VOLUME_CHANGE="volumechange",i.VG_WAITING="waiting",i.VG_LOAD="load",i.VG_ENTER="enter",i.VG_EXIT="exit",i.VG_START_ADS="startads",i.VG_END_ADS="endads",i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),H=(()=>{class i{constructor(e,s){this.api=e,this.ref=s,this.state=h.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isBufferDetected=!1,this.checkInterval=200,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new f.x}ngOnInit(){this.elem=this.vgMedia.nodeName?this.vgMedia:this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:(0,r.R)(this.elem,u.VG_ABORT),canPlay:(0,r.R)(this.elem,u.VG_CAN_PLAY),canPlayThrough:(0,r.R)(this.elem,u.VG_CAN_PLAY_THROUGH),durationChange:(0,r.R)(this.elem,u.VG_DURATION_CHANGE),emptied:(0,r.R)(this.elem,u.VG_EMPTIED),encrypted:(0,r.R)(this.elem,u.VG_ENCRYPTED),ended:(0,r.R)(this.elem,u.VG_ENDED),error:(0,r.R)(this.elem,u.VG_ERROR),loadedData:(0,r.R)(this.elem,u.VG_LOADED_DATA),loadedMetadata:(0,r.R)(this.elem,u.VG_LOADED_METADATA),loadStart:(0,r.R)(this.elem,u.VG_LOAD_START),pause:(0,r.R)(this.elem,u.VG_PAUSE),play:(0,r.R)(this.elem,u.VG_PLAY),playing:(0,r.R)(this.elem,u.VG_PLAYING),progress:(0,r.R)(this.elem,u.VG_PROGRESS),rateChange:(0,r.R)(this.elem,u.VG_RATE_CHANGE),seeked:(0,r.R)(this.elem,u.VG_SEEKED),seeking:(0,r.R)(this.elem,u.VG_SEEKING),stalled:(0,r.R)(this.elem,u.VG_STALLED),suspend:(0,r.R)(this.elem,u.VG_SUSPEND),timeUpdate:(0,r.R)(this.elem,u.VG_TIME_UPDATE),volumeChange:(0,r.R)(this.elem,u.VG_VOLUME_CHANGE),waiting:(0,r.R)(this.elem,u.VG_WAITING),startAds:(0,r.R)(window,u.VG_START_ADS),endAds:(0,r.R)(window,u.VG_END_ADS),mutation:new P.y(e=>{const s=new MutationObserver(o=>{e.next(o)});return s.observe(this.elem,{childList:!0,attributes:!0}),()=>{s.disconnect()}}),bufferDetected:this.bufferDetected},this.mutationObs=this.subscriptions.mutation.subscribe(this.onMutation.bind(this)),this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe(()=>{this.prepareSync()})}prepareSync(){const e=[];for(const s in this.api.medias)this.api.medias[s]&&e.push(this.api.medias[s].subscriptions.canPlay);this.canPlayAllSubscription=(0,v.a)(e).pipe((0,F.U)((...s)=>{s.some(c=>!!c?.target&&4===c.target.readyState)&&!this.syncSubscription&&(this.startSync(),this.syncSubscription.unsubscribe())})).subscribe()}startSync(){this.syncSubscription=(0,M.H)(0,1e3).subscribe(()=>{for(const e in this.api.medias)if(this.api.medias[e]!==this){const s=this.api.medias[e].currentTime-this.currentTime;s<-.3||s>.3?(this.playAtferSync=this.state===h.VG_PLAYING,this.pause(),this.api.medias[e].pause(),this.api.medias[e].currentTime=this.currentTime):this.playAtferSync&&(this.play(),this.api.medias[e].play(),this.playAtferSync=!1)}})}onMutation(e){for(let s=0,o=e.length;s<o;s++){const a=e[s];if("attributes"===a.type&&"src"===a.attributeName){if(a.target.src&&a.target.src.length>0&&a.target.src.indexOf("blob:")<0){this.loadMedia();break}}else if("childList"===a.type&&a.removedNodes.length&&"source"===a.removedNodes[0].nodeName.toLowerCase()){this.loadMedia();break}}}loadMedia(){this.vgMedia.pause(),this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),setTimeout(()=>this.vgMedia.load(),10)}play(){if(!(this.playPromise||this.state!==h.VG_PAUSED&&this.state!==h.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then(()=>{this.playPromise=null}).catch(()=>{this.playPromise=null}),this.playPromise}pause(){this.playPromise?this.playPromise.then(()=>{this.vgMedia.pause()}):this.vgMedia.pause()}get id(){let e;return this.vgMedia&&(e=this.vgMedia.id),e}get duration(){return this.vgMedia.duration===1/0?this.specifiedDuration:this.vgMedia.duration}set currentTime(e){this.vgMedia.currentTime=e}get currentTime(){return this.vgMedia.currentTime}set volume(e){this.vgMedia.volume=e}get volume(){return this.vgMedia.volume}set playbackRate(e){this.vgMedia.playbackRate=e}get playbackRate(){return this.vgMedia.playbackRate}get buffered(){return this.vgMedia.buffered}get textTracks(){return this.vgMedia.textTracks}onCanPlay(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}onCanPlayThrough(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}onLoadMetadata(e){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:1e3*this.duration},this.state=h.VG_PAUSED;const s=Math.round(this.time.total);this.isLive=s===1/0,this.ref.detectChanges()}onWait(e){this.isWaiting=!0,this.ref.detectChanges()}onComplete(e){this.isCompleted=!0,this.state=h.VG_ENDED,this.ref.detectChanges()}onStartPlaying(e){this.state=h.VG_PLAYING,this.ref.detectChanges()}onPlay(e){this.state=h.VG_PLAYING,this.vgMaster&&(!this.syncSubscription||this.syncSubscription.closed)&&this.startSync(),this.startBufferCheck(),this.ref.detectChanges()}onPause(e){this.state=h.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}onTimeUpdate(e){const s=this.buffered.length-1;this.time={current:1e3*this.currentTime,total:this.time.total,left:1e3*(this.duration-this.currentTime)},s>=0&&(this.buffer={end:1e3*this.buffered.end(s)}),this.ref.detectChanges()}onProgress(e){const s=this.buffered.length-1;s>=0&&(this.buffer={end:1e3*this.buffered.end(s)}),this.ref.detectChanges()}onVolumeChange(e){this.ref.detectChanges()}onError(e){this.ref.detectChanges()}bufferCheck(){const e=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+e&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+e&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}startBufferCheck(){this.checkBufferSubscription=(0,M.H)(0,this.checkInterval).subscribe(()=>{this.bufferCheck()})}stopBufferCheck(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}seekTime(e,s=!1){let o;o=s?e*this.duration/100:e,this.currentTime=o}addTextTrack(e,s,o,a){const c=this.vgMedia.addTextTrack(e,s,o);return a&&(c.mode=a),c}ngOnDestroy(){this.vgMedia.src="",this.mutationObs?.unsubscribe(),this.canPlayObs?.unsubscribe(),this.canPlayThroughObs?.unsubscribe(),this.loadedMetadataObs?.unsubscribe(),this.waitingObs?.unsubscribe(),this.progressObs?.unsubscribe(),this.endedObs?.unsubscribe(),this.playingObs?.unsubscribe(),this.playObs?.unsubscribe(),this.pauseObs?.unsubscribe(),this.timeUpdateObs?.unsubscribe(),this.volumeChangeObs?.unsubscribe(),this.errorObs?.unsubscribe(),this.checkBufferSubscription?.unsubscribe(),this.syncSubscription?.unsubscribe(),this.bufferDetected?.complete(),this.bufferDetected?.unsubscribe(),this.api.unregisterMedia(this)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d),t.Y36(t.sBO))},i.\u0275dir=t.lG2({type:i,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"}}),i})(),j=(()=>{class i{constructor(e,s,o,a){this.api=s,this.fsAPI=o,this.controlsHidden=a,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.onPlayerReady=new t.vpe,this.onMediaReady=new t.vpe,this.subscriptions=[],this.elem=e.nativeElement,this.api.registerElement(this.elem)}ngAfterContentInit(){this.medias.toArray().forEach(e=>{this.api.registerMedia(e)}),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.onPlayerReady.emit(this.api)}onChangeFullscreen(e){this.fsAPI.nativeFullscreen?this.isNativeFullscreen=e:(this.isFullscreen=e,this.zIndex=e?k.getZIndex().toString():"auto")}onHideControls(e){this.areControlsHidden=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d),t.Y36(w),t.Y36(S))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-player"]],contentQueries:function(e,s,o){if(1&e&&t.Suo(o,H,5),2&e){let a;t.iGM(a=t.CRH())&&(s.medias=a)}},hostVars:8,hostBindings:function(e,s){2&e&&(t.Udp("z-index",s.zIndex),t.ekj("fullscreen",s.isFullscreen)("native-fullscreen",s.isNativeFullscreen)("controls-hidden",s.areControlsHidden))},outputs:{onPlayerReady:"onPlayerReady",onMediaReady:"onMediaReady"},features:[t._Bn([d,w,S])],ngContentSelectors:Y,decls:1,vars:0,template:function(e,s){1&e&&(t.F$t(),t.Hsn(0))},styles:["vg-player{font-family:videogular;position:relative;display:flex;width:100%;height:100%;overflow:hidden;background-color:#000}vg-player.fullscreen{position:fixed;left:0;top:0}vg-player.native-fullscreen.controls-hidden{cursor:none}\n"],encapsulation:2}),i})();const z=[d,S,w,k,u,h];let E=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[...z],imports:[g.ez]}),i})();function q(i,n){if(1&i&&t._UZ(0,"source",18),2&i){const e=n.$implicit;t.Q6J("src",e.src,t.LSH)("type",e.type)}}function J(i,n){if(1&i&&(t.TgZ(0,"video",16),t.YNc(1,q,1,2,"source",17),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.video_playlist_model||null==e.video_playlist_model.selected_video?null:e.video_playlist_model.selected_video.sources)}}function Q(i,n){if(1&i&&t._UZ(0,"source",18),2&i){const e=n.$implicit;t.Q6J("src",e.src,t.LSH)("type",e.type)}}function K(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"vg-player",19),t.NdJ("onPlayerReady",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onPlayerReady(o))}),t.TgZ(1,"video",20,21),t.YNc(3,Q,1,2,"source",17),t.qZA()()}if(2&i){const e=t.MAs(2),s=t.oxw();t.xp6(1),t.Q6J("vgMedia",e),t.xp6(2),t.Q6J("ngForOf",null==s.video_playlist_model||null==s.video_playlist_model.selected_video?null:s.video_playlist_model.selected_video.sources)}}const X=function(){return{w:3,h:2}};function W(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ion-row",22)(1,"ion-col",23)(2,"app-image-shell",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.playMedia(a))}),t.TgZ(3,"app-aspect-ratio",6)(4,"a",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.playMedia(a))}),t._UZ(5,"ion-icon",26),t.qZA()()()(),t.TgZ(6,"ion-col",27)(7,"h4",28),t._UZ(8,"app-text-shell",11),t.qZA(),t.TgZ(9,"p",29),t._UZ(10,"app-text-shell",30),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Q6J("display","cover")("src",e.thumbnail)("alt","video thumbnail"),t.xp6(1),t.Q6J("ratio",t.DdM(6,X)),t.xp6(5),t.Q6J("data",e.title),t.xp6(2),t.Q6J("data",e.description)}}const ee=function(){return{w:16,h:9}};class A{constructor(n,e){this.route=n,this.platformId=e,this.ssr=!0,this.start_playing=!1}get isShell(){return!(!this.video_playlist_model||!this.video_playlist_model.isShell)}ngOnInit(){(0,g.NF)(this.platformId)&&(this.ssr=!1),this.route.data.pipe((0,_.w)(n=>n.data.state)).subscribe({next:n=>{this.video_playlist_model=n,n.isShell||(this.video_playlist_model.video_playlist=n.videos,this.video_playlist_model.selected_video=n.videos[0])},error:n=>console.log(n)})}playMedia(n){n!==this.video_playlist_model.selected_video&&(this.video_playlist_model.selected_video=n)}onPlayerReady(n){this.api=n,this.api.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.playVideo.bind(this))}playVideo(){this.start_playing?this.api.play():this.start_playing=!0}shareMedia(){const n=this.video_playlist_model.selected_video;O.share({title:n.title,text:n.description,url:"https://ionicthemes.com/",dialogTitle:"Share Media"}).then(()=>console.log("Successful share")).catch(e=>console.log("Error sharing",e))}}A.\u0275fac=function(n){return new(n||A)(t.Y36(x.gz),t.Y36(t.Lbi))},A.\u0275cmp=t.Xpm({type:A,selectors:[["app-video-playlist"]],hostVars:2,hostBindings:function(n,e){2&n&&t.ekj("is-shell",e.isShell)},decls:20,vars:7,consts:[["color","primary"],["slot","start"],["slot","end"],[3,"click"],["slot","icon-only","name","share"],[1,"video-playlist-content"],[3,"ratio"],["class","ssr-video","controls","","preload","auto",4,"ngIf"],["class","video-player",3,"onPlayerReady",4,"ngIf"],[1,"video-data-section"],[1,"video-title"],["animation","gradient",3,"data"],[1,"video-description"],["lines","5","animation","gradient",3,"data"],[1,"video-playlist-section"],["class","playlist-item-row",4,"ngFor","ngForOf"],["controls","","preload","auto",1,"ssr-video"],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"],[1,"video-player",3,"onPlayerReady"],["controls","","id","player-video","preload","auto",3,"vgMedia"],["player_video",""],[1,"playlist-item-row"],["size","4"],["animation","spinner",1,"video-image",3,"display","src","alt","click"],[1,"play-icon-wrapper",3,"click"],["name","play",1,"play-icon"],["size","8",1,"video-info-wrapper"],[1,"image-title"],[1,"image-description"],["lines","3","animation","gradient",3,"data"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Video Playlist"),t.qZA(),t.TgZ(6,"ion-buttons",2)(7,"ion-button",3),t.NdJ("click",function(){return e.shareMedia()}),t._UZ(8,"ion-icon",4),t.qZA()()()(),t.TgZ(9,"ion-content",5)(10,"app-aspect-ratio",6),t.YNc(11,J,2,1,"video",7),t.YNc(12,K,4,2,"vg-player",8),t.qZA(),t.TgZ(13,"section",9)(14,"h3",10),t._UZ(15,"app-text-shell",11),t.qZA(),t.TgZ(16,"p",12),t._UZ(17,"app-text-shell",13),t.qZA()(),t.TgZ(18,"section",14),t.YNc(19,W,11,7,"ion-row",15),t.qZA()()),2&n&&(t.xp6(10),t.Q6J("ratio",t.DdM(6,ee)),t.xp6(1),t.Q6J("ngIf",e.ssr),t.xp6(1),t.Q6J("ngIf",!e.ssr),t.xp6(3),t.Q6J("data",null==e.video_playlist_model||null==e.video_playlist_model.selected_video?null:e.video_playlist_model.selected_video.title),t.xp6(2),t.Q6J("data",null==e.video_playlist_model||null==e.video_playlist_model.selected_video?null:e.video_playlist_model.selected_video.description),t.xp6(2),t.Q6J("ngForOf",null==e.video_playlist_model?null:e.video_playlist_model.video_playlist))},dependencies:[p.YG,p.Sm,p.wI,p.W2,p.Gu,p.gu,p.fG,p.Nd,p.wd,p.sr,g.sg,g.O5,R.m,V.U,N.$,H,j],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background)}.video-playlist-content[_ngcontent-%COMP%]{--background: var(--page-background)}.video-playlist-content[_ngcontent-%COMP%]   .ssr-video[_ngcontent-%COMP%]{width:100%;height:100%}.video-playlist-content[_ngcontent-%COMP%]   .video-data-section[_ngcontent-%COMP%]{padding:var(--page-margin)}.video-playlist-content[_ngcontent-%COMP%]   .video-data-section[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:calc(var(--page-margin) / 2);color:var(--ion-color-secondary)}.video-playlist-content[_ngcontent-%COMP%]   .video-data-section[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]{margin:0;font-size:13px;line-height:1.3;letter-spacing:.3px;color:var(--ion-color-dark)}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]{padding:0px var(--page-margin);padding-bottom:var(--page-margin)}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .playlist-item-row[_ngcontent-%COMP%]{--ion-grid-column-padding: 0px}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .playlist-item-row[_ngcontent-%COMP%]:not(:first-child){padding-top:calc(var(--page-margin) / 2)}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .playlist-item-row[_ngcontent-%COMP%]:not(:last-child){padding-bottom:calc(var(--page-margin) / 2);box-shadow:inset 0 -7px 3px -8px var(--ion-color-darkest)}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .play-icon-wrapper[_ngcontent-%COMP%]{height:100%;text-decoration:none;display:flex;justify-content:center;align-items:center}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .play-icon-wrapper[_ngcontent-%COMP%]   .play-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary);background:rgba(var(--ion-color-lightest-rgb),.7);font-size:20px;padding:8px;border-radius:50%}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .video-info-wrapper[_ngcontent-%COMP%]{-webkit-padding-start:var(--page-margin);padding-inline-start:var(--page-margin);align-self:center}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .video-info-wrapper[_ngcontent-%COMP%]   .image-title[_ngcontent-%COMP%]{margin:0;margin-bottom:calc(var(--page-margin) / 4);color:var(--ion-color-secondary);font-size:14px}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .video-info-wrapper[_ngcontent-%COMP%]   .image-title[_ngcontent-%COMP%]   app-text-shell[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video-playlist-content[_ngcontent-%COMP%]   .video-playlist-section[_ngcontent-%COMP%]   .video-info-wrapper[_ngcontent-%COMP%]   .image-description[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-dark);font-size:13px;line-height:1.3;letter-spacing:.3px;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden;-webkit-box-orient:vertical}","app-image-shell.video-image[_ngcontent-%COMP%]{background-position:center}.image-title[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-height: 14px}.image-description[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-height: 13px}"]});var U=l(9760);class T{}class te extends U.n{constructor(){super(),this.selected_video=new T,this.video_playlist=[new T,new T,new T]}}var ie=l(5009),se=l(529);class y{constructor(n,e,s){this.platformId=n,this.transferStateHelper=e,this.http=s}getVideoPlaylistDataSource(){const n=this.http.get("./assets/sample-data/video-playlist/video-playlist.json");return this.transferStateHelper.checkDataSourceState("video-playlist-state",n)}getVideoPlaylistStore(n){if(!this.videoPlaylistDataStore){const e=new te;this.videoPlaylistDataStore=new U.K(e),(0,g.PM)(this.platformId)||n.ssr_state?this.videoPlaylistDataStore.load(n,0):this.videoPlaylistDataStore.load(n)}return this.videoPlaylistDataStore}}y.\u0275fac=function(n){return new(n||y)(t.LFG(t.Lbi),t.LFG(ie.n),t.LFG(se.eN))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac});class b{constructor(n){this.videoPlaylistService=n}resolve(){const n=this.videoPlaylistService.getVideoPlaylistDataSource();return this.videoPlaylistService.getVideoPlaylistStore(n)}}b.\u0275fac=function(n){return new(n||b)(t.LFG(y))},b.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac});var ne=l(3678);let me=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,E]}),i})(),ve=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,E]}),i})(),ye=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,E]}),i})();const be=[{path:"",component:A,resolve:{data:b}}];class C{}C.\u0275fac=function(n){return new(n||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({providers:[b,y],imports:[p.Pc,g.ez,ne.K,x.Bz.forChild(be),E,me,ve,ye]})}}]);