"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1511],{1511:(S,m,a)=>{a.r(m),a.d(m,{FirebaseSignInPageModule:()=>s});var d=a(6895),o=a(4006),p=a(3893),r=a(9267),h=a(4004),b=a(7311),c=a(5861),f=a(1823),v=a(7086),n=a(4650),P=a(6089);function _(i,e){if(1&i&&(n.TgZ(0,"div",23),n._UZ(1,"ion-icon",24),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&i){const t=n.oxw().$implicit;n.xp6(3),n.Oqu(t.message)}}function Z(i,e){if(1&i&&(n.ynx(0),n.YNc(1,_,4,1,"div",22),n.BQk()),2&i){const t=e.$implicit,g=n.oxw();n.xp6(1),n.Q6J("ngIf",g.loginForm.get("email").hasError(t.type)&&(g.loginForm.get("email").dirty||g.loginForm.get("email").touched))}}function T(i,e){if(1&i&&(n.TgZ(0,"div",23),n._UZ(1,"ion-icon",24),n.TgZ(2,"span"),n._uU(3),n.qZA()()),2&i){const t=n.oxw().$implicit;n.xp6(3),n.Oqu(t.message)}}function I(i,e){if(1&i&&(n.ynx(0),n.YNc(1,T,4,1,"div",22),n.BQk()),2&i){const t=e.$implicit,g=n.oxw();n.xp6(1),n.Q6J("ngIf",g.loginForm.get("password").hasError(t.type)&&(g.loginForm.get("password").dirty||g.loginForm.get("password").touched))}}function O(i,e){if(1&i&&(n.TgZ(0,"div",9)(1,"div",23),n._UZ(2,"ion-icon",24),n.TgZ(3,"span"),n._uU(4),n.qZA()()()),2&i){const t=n.oxw();n.xp6(4),n.Oqu(t.submitError)}}const C=function(){return["/firebase/auth/sign-up"]};class l{constructor(e,t,g,F){this.router=e,this.firebaseAuthService=t,this.ngZone=g,this.historyHelper=F,this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 6 characters long."}]},this.loginForm=new o.nJ({email:new o.p4("",o.kI.compose([o.kI.required,o.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new o.p4("",o.kI.compose([o.kI.minLength(6),o.kI.required]))}),this.authRedirectResult=this.firebaseAuthService.redirectResult$.subscribe(u=>{u.error?this.manageAuthWithProvidersErrors(u.error):this.redirectLoggedUserToProfilePage()}),this.firebaseAuthService.authState$.subscribe(u=>{u.user?this.redirectLoggedUserToProfilePage():this.manageAuthWithProvidersErrors("No user logged in")})}doFacebookLogin(){var e=this;return(0,c.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithFacebook().then(t=>{e.redirectLoggedUserToProfilePage()}).catch(t=>{e.manageAuthWithProvidersErrors(t.message)})}finally{}})()}doGoogleLogin(){var e=this;return(0,c.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithGoogle().then(t=>{e.redirectLoggedUserToProfilePage()}).catch(t=>{e.manageAuthWithProvidersErrors(t.message)})}finally{}})()}doTwitterLogin(){var e=this;return(0,c.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithTwitter().then(t=>{e.redirectLoggedUserToProfilePage()}).catch(t=>{e.manageAuthWithProvidersErrors(t.message)})}finally{}})()}doAppleLogin(){var e=this;return(0,c.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithApple().then(t=>{e.redirectLoggedUserToProfilePage()}).catch(t=>{e.manageAuthWithProvidersErrors(t.message)})}finally{}})()}signInWithEmail(){var e=this;return(0,c.Z)(function*(){e.resetSubmitError();try{yield e.firebaseAuthService.signInWithEmail(e.loginForm.value.email,e.loginForm.value.password).then(t=>{e.redirectLoggedUserToProfilePage()}).catch(t=>{e.submitError=t.message})}finally{}})()}redirectLoggedUserToProfilePage(){this.ngZone.run(()=>{this.router.navigate(["firebase/auth/profile"],{replaceUrl:!0})})}manageAuthWithProvidersErrors(e){this.submitError=e}resetSubmitError(){this.submitError=null}}l.\u0275fac=function(e){return new(e||l)(n.Y36(p.F0),n.Y36(v.X),n.Y36(n.R0b),n.Y36(f.n))},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-firebase-sign-in"]],decls:36,vars:7,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","app/categories"],[1,"login-content"],[1,"auth-title"],[3,"formGroup","ngSubmit"],["lines","full",1,"inputs-list"],[1,"input-item"],["type","email","placeholder","Email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email"],[1,"error-container"],[4,"ngFor","ngForOf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",1,"login-btn",3,"disabled"],["class","error-container",4,"ngIf"],[1,"other-auth-options-row"],["fill","clear",1,"signup-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["expand","block","color","facebook",1,"social-auth-btn","facebook-auth-btn",3,"click"],["expand","block","color","google",1,"social-auth-btn","google-auth-btn",3,"click"],["expand","block","color","twitter",1,"social-auth-btn","twitter-auth-btn",3,"click"],["expand","block","color","dark",1,"social-auth-btn","apple-auth-btn",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"]],template:function(e,t){1&e&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA()()(),n.TgZ(4,"ion-content",3)(5,"h2",4),n._uU(6," Sign In with Firebase "),n._UZ(7,"br"),n.qZA(),n.TgZ(8,"form",5),n.NdJ("ngSubmit",function(){return t.signInWithEmail()}),n.TgZ(9,"ion-list",6)(10,"ion-item",7),n._UZ(11,"ion-input",8),n.qZA(),n.TgZ(12,"div",9),n.YNc(13,Z,2,1,"ng-container",10),n.qZA(),n.TgZ(14,"ion-item",7)(15,"app-show-hide-password"),n._UZ(16,"ion-input",11),n.qZA()(),n.TgZ(17,"div",9),n.YNc(18,I,2,1,"ng-container",10),n.qZA()(),n.TgZ(19,"ion-button",12),n._uU(20,"Log In"),n.qZA(),n.YNc(21,O,5,1,"div",13),n.TgZ(22,"ion-row",14)(23,"ion-button",15),n._uU(24," Sign Up! "),n.qZA()()(),n.TgZ(25,"div",16)(26,"p",17),n._uU(27,"Or"),n.qZA(),n.TgZ(28,"ion-button",18),n.NdJ("click",function(){return t.doFacebookLogin()}),n._uU(29,"Log In with Facebook"),n.qZA(),n.TgZ(30,"ion-button",19),n.NdJ("click",function(){return t.doGoogleLogin()}),n._uU(31,"Log In with Google"),n.qZA(),n.TgZ(32,"ion-button",20),n.NdJ("click",function(){return t.doTwitterLogin()}),n._uU(33,"Log In with Twitter"),n.qZA(),n.TgZ(34,"ion-button",21),n.NdJ("click",function(){return t.doAppleLogin()}),n._uU(35,"Log In with Apple"),n.qZA()()()),2&e&&(n.xp6(8),n.Q6J("formGroup",t.loginForm),n.xp6(5),n.Q6J("ngForOf",t.validation_messages.email),n.xp6(5),n.Q6J("ngForOf",t.validation_messages.password),n.xp6(1),n.Q6J("disabled",!t.loginForm.valid),n.xp6(2),n.Q6J("ngIf",t.submitError),n.xp6(2),n.Q6J("routerLink",n.DdM(6,C)))},dependencies:[d.sg,d.O5,o._Y,o.JJ,o.JL,o.sg,o.u,r.oU,r.YG,r.Sm,r.W2,r.Gu,r.gu,r.pK,r.Ie,r.q_,r.Nd,r.sr,r.j9,r.cs,r.YI,p.rH,P.q],styles:["[_nghost-%COMP%]{--page-margin: var(--app-broad-margin);--page-background: var(--app-background-shade)}ion-toolbar[_ngcontent-%COMP%]{--background: var(--page-background)}.login-content[_ngcontent-%COMP%]{--background: var(--page-background);--padding-start: var(--page-margin);--padding-end: var(--page-margin);--padding-top: var(--page-margin);--padding-bottom: var(--page-margin)}.login-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * 1.5);letter-spacing:.6px}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background: var(--page-background)}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px;--inner-padding-end: 0px}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0px;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.login-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0px}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{--color: var(--ion-color-secondary);margin:0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:focus{outline:none}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0px;text-align:center}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}"]});var y=a(3678);const A=[{path:"",component:l,...(0,b.nW)(i=>(0,h.U)(e=>!(null!==e&&!i.queryParams["auth-redirect"])||["firebase/auth/profile"]))}];class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[d.ez,o.u5,o.UX,r.Pc,p.Bz.forChild(A),y.K]})}}]);