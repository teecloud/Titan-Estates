{"version":3,"sources":["./src/app/travel/listing/travel-listing.resolver.ts","./src/app/travel/listing/travel-listing.module.ts","./src/app/travel/listing/travel-listing.plain.resolver.ts","./src/app/travel/listing/travel-listing.page.ts","./src/app/travel/listing/travel-listing.page.html"],"names":[],"mappings":"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","file":"travel-listing-travel-listing-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable, of } from 'rxjs';\n\nimport { DataStore } from '../../shell/data-store';\nimport { TravelService } from '../travel.service';\nimport { TravelListingModel } from './travel-listing.model';\nimport { SeoDataModel } from '../../utils/seo/seo-data.model';\n\n@Injectable()\nexport class TravelListingResolver implements Resolve<any> {\n\n  constructor(private travelService: TravelService) {}\n\n  resolve():  { dataStore: DataStore<TravelListingModel>, seo: Observable<SeoDataModel> } {\n    const dataSource: Observable<TravelListingModel> = this.travelService.getListingDataSource();\n    const dataStore: DataStore<TravelListingModel> = this.travelService.getListingStore(dataSource);\n\n    const seo = new SeoDataModel();\n    seo.title = 'Travel Listing Page';\n    seo.description = 'Travel Description';\n    seo.keywords = 'travel, keywords, ionic, angular';\n\n    return { dataStore: dataStore, seo: of(seo) };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComponentsModule } from '../../components/components.module';\n\nimport { TravelService } from '../travel.service';\nimport { TravelListingPage } from './travel-listing.page';\nimport { TravelListingResolver } from './travel-listing.resolver';\nimport { TravelListingPlainResolver } from './travel-listing.plain.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TravelListingPage,\n    resolve: {\n      data: TravelListingResolver\n      // data: TravelListingPlainResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [\n    TravelListingPage\n  ],\n  providers: [\n    TravelListingResolver,\n    TravelListingPlainResolver,\n    TravelService\n  ]\n})\nexport class TravelListingPageModule {}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { TravelService } from '../travel.service';\nimport { TravelListingModel } from './travel-listing.model';\n\n@Injectable()\nexport class TravelListingPlainResolver implements Resolve<TravelListingModel> {\n\n  constructor(private travelService: TravelService) {}\n\n  resolve(): Observable<TravelListingModel> {\n    return this.travelService.getListingDataSource();\n  }\n}\n","import { Component, OnInit, HostBinding } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\nimport { TravelListingModel } from './travel-listing.model';\nimport { switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-travel-listing',\n  templateUrl: './travel-listing.page.html',\n  styleUrls: [\n    './styles/travel-listing.page.scss',\n    './styles/travel-listing.shell.scss'\n  ]\n})\nexport class TravelListingPage implements OnInit {\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\n  subscriptions: Subscription;\n\n  listing: TravelListingModel;\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this.listing && this.listing.isShell) ? true : false;\n  }\n\n  constructor(\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n\n    this.subscriptions = this.route.data\n    .pipe(\n      // Extract data for this page\n      switchMap((resolvedRouteData: IResolvedRouteData<TravelListingModel>) => {\n        // tslint:disable-next-line:no-string-literal\n        return ResolverHelper.extractData<TravelListingModel>(resolvedRouteData.data['dataStore'], TravelListingModel);\n      })\n    )\n    .subscribe((state) => {\n      this.listing = state;\n    }, (error) => console.log(error));\n  }\n\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\n  ionViewWillLeave(): void {\n    this.subscriptions.unsubscribe();\n  }\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Travel Listing</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ng-container *ngIf=\"listing?.items\">\n    <div class=\"listing-item\" *ngFor=\"let item of listing?.items\">\n      <ion-row class=\"image-row\">\n        <ion-col size=\"12\">\n          <a [routerLink]=\"['/app/categories/travel/', item.slug]\">\n            <app-image-shell [display]=\"'cover'\" class=\"add-overlay item-image\" [src]=\"item.image\" [routerLink]=\"['/app/categories/travel/', item.slug]\">\n              <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\n                <div class=\"content-inside-item-image\">\n                  <div class=\"item-icon\">\n                    <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\n                      <app-image-shell [src]=\"item.icon\" class=\"icon-image\"></app-image-shell>\n                    </app-aspect-ratio>\n                  </div>\n                  <div class=\"item-cta\">\n                    <span>Explore</span>\n                    <ion-icon class=\"cta-icon\" name=\"arrow-forward\"></ion-icon>\n                  </div>\n                </div>\n              </app-aspect-ratio>\n            </app-image-shell>\n          </a>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"info-row\">\n        <ion-col class=\"main-info-col\">\n          <h3 class=\"item-name\">\n            <a class=\"name-anchor\" [routerLink]=\"['/app/categories/travel/', item.slug]\">\n              <app-text-shell animation=\"bouncing\" [data]=\"(item?.name && item?.category) ? (item.name + ' - ' + item.category) : (item.name)\"></app-text-shell>\n            </a>\n          </h3>\n          <p class=\"item-description\">\n            <app-text-shell animation=\"bouncing\" [data]=\"item.description\" lines=\"3\"></app-text-shell>\n          </p>\n          <p class=\"item-address\">\n            <app-text-shell animation=\"bouncing\" [data]=\"item.address\"></app-text-shell>\n          </p>\n        </ion-col>\n      </ion-row>\n      <ion-row class=\"stats-row\">\n        <ion-col size=\"2\" class=\"item-rating\">\n          <span class=\"rating-value\">\n            <app-text-shell [data]=\"item.rating\"></app-text-shell>\n          </span>\n          <ion-icon class=\"stats-icon\" src=\"./assets/custom-icons/travel/star.svg\"></ion-icon>\n        </ion-col>\n        <ion-col size=\"2\" class=\"item-reviews\">\n          <span class=\"reviews-count\">\n            <app-text-shell [data]=\"item.reviewsCount\"></app-text-shell>\n          </span>\n          <ion-icon class=\"stats-icon\" src=\"./assets/custom-icons/travel/comments.svg\"></ion-icon>\n        </ion-col>\n      </ion-row>\n    </div>\n  </ng-container>\n</ion-content>\n"],"sourceRoot":"webpack:///"}